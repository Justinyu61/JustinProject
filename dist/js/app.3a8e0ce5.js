(function(){"use strict";var t={8604:function(t,e,o){var a=o(9242),s=o(6265),n=o.n(s),l=o(6423),i=o(3396);function r(t,e){const o=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(o)}var d=o(89);const c={},u=(0,d.Z)(c,[["render",r]]);var p=u,m=o(2483);function h(t,e,o,a,s,n){const l=(0,i.up)("UserNavbar");return(0,i.wg)(),(0,i.j4)(l)}const g=(0,i._)("img",{src:"",alt:""},null,-1),_={class:"navbar navbar-expand-lg navbar-light bg-light"},b=(0,i._)("a",{class:"navbar-brand",href:"/"},"這裡是LOGO",-1),v=(0,i._)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i._)("span",{class:"navbar-toggler-icon"})],-1),w={class:"collapse navbar-collapse",id:"navbarNav"},f={class:"navbar-nav"},y=(0,i.Uk)("首頁"),P=(0,i.Uk)("商品"),k=(0,i.Uk)("購物車");function x(t,e,o,s,n,l){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[g,(0,i._)("nav",_,[b,v,(0,i._)("div",w,[(0,i._)("div",f,[(0,i.Wm)(r,{to:"/",class:"nav-link"},{default:(0,i.w5)((()=>[y])),_:1}),(0,i.Wm)(r,{to:"/products/productsIndex",class:"nav-link"},{default:(0,i.w5)((()=>[P])),_:1}),(0,i.Wm)(r,{to:"/cart",class:"nav-link"},{default:(0,i.w5)((()=>[k])),_:1}),(0,i._)("a",{class:"nav-link",href:"#",onClick:e[0]||(e[0]=(0,a.iM)(((...t)=>l.logout&&l.logout(...t)),["prevent"]))},"登出")])])])],64)}var M={name:"Navbar-view",methods:{logout(){const t="https://vue3-course-api.hexschool.io/logout";this.$http.post(t,this.user).then((t=>{t.data.success&&this.$router.push("/login")}))}}};const C=(0,d.Z)(M,[["render",x]]);var $=C,D={name:"Home-view",components:{UserNavbar:$}};const O=(0,d.Z)(D,[["render",h]]);var U=O;const L={class:"container mt-5"},z={class:"col-md-6"},j=(0,i._)("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),I={class:"mb-2"},W=(0,i._)("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),N={class:"mb-2"},Z=(0,i._)("label",{for:"inputPassword",class:"sr-only"},"Password",-1),V=(0,i._)("div",{class:"text-end mt-4"},[(0,i._)("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"登入")],-1);function T(t,e,o,s,n,l){return(0,i.wg)(),(0,i.iD)("div",L,[(0,i._)("form",{class:"row justify-content-center",onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>s.signIn&&s.signIn(...t)),["prevent"]))},[(0,i._)("div",z,[j,(0,i._)("div",I,[W,(0,i.wy)((0,i._)("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=t=>s.username=t)},null,512),[[a.nr,s.username]])]),(0,i._)("div",N,[Z,(0,i.wy)((0,i._)("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t)},null,512),[[a.nr,s.password]])]),V])],32)])}var H=o(4870);const E=n().create({baseURL:"https://vue3-course-api.hexschool.io/",timeout:1e4}),Y=(t,e={})=>new Promise(((o,a)=>{E.post(t,e).then((t=>{o(t)}),(t=>{a(t)}))})),S=()=>{const t=(0,m.tv)(),e=(0,H.qj)({username:"",password:""}),o=async()=>{try{const o=await Y("admin/signin",{username:e.username,password:e.password});if(o?.data?.success){const{token:e,expired:a}=o.data;document.cookie=`hexToken=${e}; expires=${new Date(a)}`,console.log("登入成功"),await t.push("/dashboard/products")}}catch(o){console.log(o)}},{username:a,password:s}=(0,H.BK)(e);return{username:a,password:s,signIn:o}};var q={name:"Login-view",setup(){const{username:t,password:e,signIn:o}=S();return{username:t,password:e,signIn:o}}};const K=(0,d.Z)(q,[["render",T]]);var B=K;const F={class:"container-fluid mt-3 position-relative"};function A(t,e,o,a,s,n){const l=(0,i.up)("Navbar"),r=(0,i.up)("ToastMessages"),d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i._)("div",F,[(0,i.Wm)(r),(0,i.Wm)(d)])],64)}const G={class:"navbar navbar-expand-lg navbar-light bg-light"},R=(0,i._)("a",{class:"navbar-brand",href:"#"},"這裡是LOGO",-1),J=(0,i._)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i._)("span",{class:"navbar-toggler-icon"})],-1),Q={class:"collapse navbar-collapse",id:"navbarNav"},X={class:"navbar-nav"},tt=(0,i.Uk)("商品"),et=(0,i.Uk)("訂單"),ot=(0,i.Uk)("優惠券");function at(t,e,o,s,n,l){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("nav",G,[R,J,(0,i._)("div",Q,[(0,i._)("div",X,[(0,i.Wm)(r,{to:"/dashboard/products",class:"nav-link"},{default:(0,i.w5)((()=>[tt])),_:1}),(0,i.Wm)(r,{to:"/dashboard/orders",class:"nav-link"},{default:(0,i.w5)((()=>[et])),_:1}),(0,i.Wm)(r,{to:"/dashboard/discount",class:"nav-link"},{default:(0,i.w5)((()=>[ot])),_:1}),(0,i._)("a",{class:"nav-link",href:"#",onClick:e[0]||(e[0]=(0,a.iM)(((...t)=>l.logout&&l.logout(...t)),["prevent"]))},"登出")])])])}var st={name:"Navbar-view",methods:{logout(){const t="https://vue3-course-api.hexschool.io/logout";this.$http.post(t,this.user).then((t=>{t.data.success&&this.$router.push("/login")}))}}};const nt=(0,d.Z)(st,[["render",at]]);var lt=nt,it=o(1373);const rt=(0,it.Z)();var dt=rt;const ct={class:"toast-container position-absolute pe-3 top-0 end-0"};function ut(t,e,o,a,s,n){const l=(0,i.up)("Toast");return(0,i.wg)(),(0,i.iD)("div",ct,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.messages,((t,e)=>((0,i.wg)(),(0,i.j4)(l,{key:e,msg:t},null,8,["msg"])))),128))])}var pt=o(7139);const mt={class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},ht={class:"toast-header"},gt={class:"me-auto"},_t=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1),bt={key:0,class:"toast-body"};function vt(t,e,o,a,s,n){return(0,i.wg)(),(0,i.iD)("div",mt,[(0,i._)("div",ht,[(0,i._)("span",{class:(0,pt.C_)([`bg-${o.msg.title}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,i._)("strong",gt,(0,pt.zw)(o.msg.title),1),_t]),o.msg.content?((0,i.wg)(),(0,i.iD)("div",bt,(0,pt.zw)(o.msg.content),1)):(0,i.kq)("",!0)],512)}var wt=o(8803),ft=o.n(wt),yt={name:"Toast",props:["msg"],mounted(){const t=this.$refs.toast,e=new(ft())(t,{delay:3e3});e.show()}};const Pt=(0,d.Z)(yt,[["render",vt]]);var kt=Pt,xt={name:"ToastMessages",components:{Toast:kt},data(){return{messages:[]}},inject:["emitter"],mounted(){this.emitter.on("push-message",(t=>{const{style:e="success",title:o,content:a}=t;this.messages.push({style:e,title:o,content:a})}))}};const Mt=(0,d.Z)(xt,[["render",ut]]);var Ct=Mt,$t={name:"Dashboard-view",components:{Navbar:lt,ToastMessages:Ct},created(){this.$http.defaults.headers.common.Authorization=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");const t="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(t,this.user).then((t=>{t.data.success||this.$router.push("/login")}))},provide(){return{emitter:dt}}};const Dt=(0,d.Z)($t,[["render",A]]);var Ot=Dt;const Ut={class:"text-end"},Lt={class:"table mt-4"},zt=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{width:"100"},"分類"),(0,i._)("th",{width:"200"},"產品名稱"),(0,i._)("th",{width:"120"},"圖片"),(0,i._)("th",{width:"100"},"品牌"),(0,i._)("th",{width:"100"},"原價"),(0,i._)("th",{width:"100"},"售價"),(0,i._)("th",{width:"100"},"件數"),(0,i._)("th",{width:"100"},"是否啟用"),(0,i._)("th",{width:"80"},"編輯")])],-1),jt=["src"],It={class:"text-right"},Wt={class:"text-right"},Nt={key:0,class:"text-success"},Zt={key:1,class:"text-muted"},Vt={class:"btn-group"},Tt=["onClick"],Ht=["onClick"];function Et(t,e,o,a,s,n){const l=(0,i.up)("Loading"),r=(0,i.up)("Pagination"),d=(0,i.up)("ProductModal"),c=(0,i.up)("DeleteModal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l,{active:s.isLoading},null,8,["active"]),(0,i._)("div",Ut,[(0,i._)("button",{class:"btn btn-primary",type:"button",onClick:e[0]||(e[0]=t=>n.openProductModal(!0))}," 新增產品 ")]),(0,i._)("table",Lt,[zt,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.products,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",null,(0,pt.zw)(e.category),1),(0,i._)("td",null,(0,pt.zw)(e.title),1),(0,i._)("td",null,[(0,i._)("img",{class:"img-fluid",style:{"max-width":"60%"},src:e.imageUrl,alt:""},null,8,jt)]),(0,i._)("td",null,(0,pt.zw)(e.content),1),(0,i._)("td",It,(0,pt.zw)(t.$filters.currency(e.origin_price)),1),(0,i._)("td",Wt,(0,pt.zw)(t.$filters.currency(e.price)),1),(0,i._)("td",null,(0,pt.zw)(e.unit),1),(0,i._)("td",null,[e.is_enabled?((0,i.wg)(),(0,i.iD)("span",Nt,"啟用")):((0,i.wg)(),(0,i.iD)("span",Zt,"未啟用"))]),(0,i._)("td",null,[(0,i._)("div",Vt,[(0,i._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>n.openProductModal(!1,e)},"編輯",8,Tt),(0,i._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t=>n.deleteProductModal(e)},"刪除",8,Ht)])])])))),128))])]),(0,i.Wm)(r,{pages:s.pagination,onEmitPages:n.getProducts},null,8,["pages","onEmitPages"]),(0,i.Wm)(d,{ref:"productModal",product:s.tempProduct,onUpdateProduct:n.updateProduct},null,8,["product","onUpdateProduct"]),(0,i.Wm)(c,{ref:"deleteModal",item:s.tempProduct,onDeleteItem:n.deleteProduct},null,8,["item","onDeleteItem"])],64)}const Yt={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},St={class:"modal-dialog modal-xl",role:"document"},qt={class:"modal-content border-0"},Kt={class:"modal-header bg-dark text-white"},Bt={class:"modal-title",id:"exampleModalLabel"},Ft=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),At={class:"modal-body"},Gt={class:"row"},Rt={class:"col-sm-4"},Jt={class:"mb-3"},Qt=(0,i._)("label",{for:"image",class:"form-label"},"輸入圖片網址",-1),Xt={class:"mb-3"},te=(0,i._)("label",{for:"customFile",class:"form-label"},[(0,i.Uk)("或 上傳圖片 "),(0,i._)("i",{class:"fas fa-spinner fa-spin"})],-1),ee=["src"],oe={key:0,class:"mt-5"},ae=["onUpdate:modelValue"],se=["onClick"],ne={key:0},le={class:"col-sm-8"},ie={class:"mb-3"},re=(0,i._)("label",{for:"title",class:"form-label"},"標題",-1),de={class:"row gx-2"},ce={class:"mb-3 col-md-6"},ue=(0,i._)("label",{for:"category",class:"form-label"},"分類",-1),pe={class:"mb-3 col-md-6"},me=(0,i._)("label",{for:"price",class:"form-label"},"單位",-1),he={class:"row gx-2"},ge={class:"mb-3 col-md-6"},_e=(0,i._)("label",{for:"origin_price",class:"form-label"},"原價",-1),be={class:"mb-3 col-md-6"},ve=(0,i._)("label",{for:"price",class:"form-label"},"售價",-1),we=(0,i._)("hr",null,null,-1),fe={class:"mb-3"},ye=(0,i._)("label",{for:"description",class:"form-label"},"產品描述",-1),Pe={class:"mb-3"},ke=(0,i._)("label",{for:"content",class:"form-label"},"說明內容",-1),xe={class:"mb-3"},Me={class:"form-check"},Ce=(0,i._)("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ",-1),$e={class:"modal-footer"},De=(0,i._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消 ",-1);function Oe(t,e,o,s,n,l){return(0,i.wg)(),(0,i.iD)("div",Yt,[(0,i._)("div",St,[(0,i._)("div",qt,[(0,i._)("div",Kt,[(0,i._)("h5",Bt,[(0,i._)("span",null,(0,pt.zw)(n.tempProduct.title?"編輯產品":"新增產品"),1)]),Ft]),(0,i._)("div",At,[(0,i._)("div",Gt,[(0,i._)("div",Rt,[(0,i._)("div",Jt,[Qt,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"image",placeholder:"請輸入圖片連結","onUpdate:modelValue":e[0]||(e[0]=t=>n.tempProduct.imageUrl=t)},null,512),[[a.nr,n.tempProduct.imageUrl]])]),(0,i._)("div",Xt,[te,(0,i._)("input",{type:"file",id:"customFile",class:"form-control",ref:"fileInput",onChange:e[1]||(e[1]=(...t)=>l.uploadFile&&l.uploadFile(...t))},null,544)]),(0,i._)("img",{class:"img-fluid",alt:"",src:n.tempProduct.imageUrl},null,8,ee),n.tempProduct.images?((0,i.wg)(),(0,i.iD)("div",oe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.tempProduct.images,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"mb-3 input-group",key:e},[(0,i.wy)((0,i._)("input",{type:"url",class:"form-control form-control",placeholder:"請輸入連結","onUpdate:modelValue":t=>n.tempProduct.images[e]=t},null,8,ae),[[a.nr,n.tempProduct.images[e]]]),(0,i._)("button",{type:"button",class:"btn btn-close mt-2",onClick:t=>n.tempProduct.images.splice(e,1)},null,8,se)])))),128)),n.tempProduct.images[n.tempProduct.images.length-1]||!n.tempProduct.images.length?((0,i.wg)(),(0,i.iD)("div",ne,[(0,i._)("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:e[2]||(e[2]=t=>n.tempProduct.images.push(""))}," 新增圖片 ")])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)]),(0,i._)("div",le,[(0,i._)("div",ie,[re,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"title",placeholder:"請輸入標題","onUpdate:modelValue":e[3]||(e[3]=t=>n.tempProduct.title=t)},null,512),[[a.nr,n.tempProduct.title]])]),(0,i._)("div",de,[(0,i._)("div",ce,[ue,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"category",placeholder:"請輸入分類","onUpdate:modelValue":e[4]||(e[4]=t=>n.tempProduct.category=t)},null,512),[[a.nr,n.tempProduct.category]])]),(0,i._)("div",pe,[me,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"unit",placeholder:"請輸入單位","onUpdate:modelValue":e[5]||(e[5]=t=>n.tempProduct.unit=t)},null,512),[[a.nr,n.tempProduct.unit]])])]),(0,i._)("div",he,[(0,i._)("div",ge,[_e,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control",id:"origin_price",placeholder:"請輸入原價","onUpdate:modelValue":e[6]||(e[6]=t=>n.tempProduct.origin_price=t)},null,512),[[a.nr,n.tempProduct.origin_price]])]),(0,i._)("div",be,[ve,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control",id:"price",placeholder:"請輸入售價","onUpdate:modelValue":e[7]||(e[7]=t=>n.tempProduct.price=t)},null,512),[[a.nr,n.tempProduct.price]])])]),we,(0,i._)("div",fe,[ye,(0,i.wy)((0,i._)("textarea",{type:"text",class:"form-control",id:"description",placeholder:"請輸入產品描述","onUpdate:modelValue":e[8]||(e[8]=t=>n.tempProduct.description=t)},null,512),[[a.nr,n.tempProduct.description]])]),(0,i._)("div",Pe,[ke,(0,i.wy)((0,i._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入產品說明內容","onUpdate:modelValue":e[9]||(e[9]=t=>n.tempProduct.content=t)},null,512),[[a.nr,n.tempProduct.content]])]),(0,i._)("div",xe,[(0,i._)("div",Me,[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,id:"is_enabled","onUpdate:modelValue":e[10]||(e[10]=t=>n.tempProduct.is_enabled=t)},null,512),[[a.e8,n.tempProduct.is_enabled]]),Ce])])])])]),(0,i._)("div",$e,[De,(0,i._)("button",{type:"button",class:"btn btn-primary",onClick:e[11]||(e[11]=e=>t.$emit("update-product",n.tempProduct))},"確認")])])])],512)}var Ue=o(7972),Le=o.n(Ue),ze={methods:{showModal(){this.modal.show()},hideModal(){this.modal.hide()}},mounted(){this.modal=new(Le())(this.$refs.modal)}},je={name:"ProductModal",props:{product:{type:Object,default(){return{}}}},watch:{product(){this.tempProduct=this.product,this.tempProduct.images||(this.tempProduct.images=[])}},data(){return{modal:{},tempProduct:{}}},methods:{uploadFile(){const t=this.$refs.fileInput.files[0],e=new FormData;e.append("file-to-upload",t);const o="https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/upload",a=this.$refs.fileInput.id;this.$http.post(o,e).then((t=>{t.data.success?(this.tempProduct.imageUrl=t.data.imageUrl,document.getElementById(a).value=""):t.data.success||this.$httpMsgState(t,"圖片上傳")})).catch((t=>{console.log(t)}))}},mixins:[ze]};const Ie=(0,d.Z)(je,[["render",Oe]]);var We=Ie;const Ne={class:"modal fade",id:"delModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},Ze={class:"modal-dialog",role:"document"},Ve={class:"modal-content border-0"},Te={class:"modal-header bg-danger text-white"},He={class:"modal-title"},Ee=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ye={class:"modal-body"},Se=(0,i.Uk)(" 是否刪除 "),qe={class:"text-danger"},Ke=(0,i.Uk)(" (刪除後將無法恢復)。 "),Be={class:"modal-footer"},Fe=(0,i._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消 ",-1);function Ae(t,e,o,a,s,n){return(0,i.wg)(),(0,i.iD)("div",Ne,[(0,i._)("div",Ze,[(0,i._)("div",Ve,[(0,i._)("div",Te,[(0,i._)("h5",He,[(0,i._)("span",null,"刪除 "+(0,pt.zw)(o.item.title),1)]),Ee]),(0,i._)("div",Ye,[Se,(0,i._)("strong",qe,(0,pt.zw)(o.item.title),1),Ke]),(0,i._)("div",Be,[Fe,(0,i._)("button",{type:"button",class:"btn btn-danger",onClick:e[0]||(e[0]=e=>t.$emit("delete-item"))},"確認刪除 ")])])])],512)}var Ge={name:"DeleteModal",props:{item:{}},data(){return{modal:""}},mixins:[ze]};const Re=(0,d.Z)(Ge,[["render",Ae]]);var Je=Re;const Qe={"aria-label":"Page navigation example"},Xe={class:"pagination justify-content-center"},to={class:"page-item"},eo=(0,i._)("span",{"aria-hidden":"true"},"«",-1),oo=[eo],ao=["onClick"],so={class:"page-item"},no=(0,i._)("span",{"aria-hidden":"true"},"»",-1),lo=[no];function io(t,e,o,s,n,l){return(0,i.wg)(),(0,i.iD)("nav",Qe,[(0,i._)("ul",Xe,[(0,i._)("li",to,[(0,i._)("a",{class:(0,pt.C_)(["page-link",{disabled:this.nowPage<=1}]),href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,a.iM)(((...t)=>l.previousBtn&&l.previousBtn(...t)),["prevent"]))},oo,2)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.pages.total_pages,(t=>((0,i.wg)(),(0,i.iD)("li",{class:(0,pt.C_)(["page-item",{active:t===o.pages.current_page}]),key:t},[(0,i._)("a",{class:"page-link",href:"#",onClick:(0,a.iM)((e=>l.updatePage(t)),["prevent"])},(0,pt.zw)(t),9,ao)],2)))),128)),(0,i._)("li",so,[(0,i._)("a",{class:(0,pt.C_)(["page-link",{disabled:this.nowPage===o.pages.total_pages}]),href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,a.iM)(((...t)=>l.nextBtn&&l.nextBtn(...t)),["prevent"]))},lo,2)])])])}var ro={name:"Pagination-view",props:["pages"],data(){return{nowPage:1}},methods:{updatePage(t){this.$emit("emit-pages",t),this.nowPage=t},previousBtn(){if(1===this.nowPage)return this.nowPage;this.nowPage=this.nowPage-1,this.updatePage(this.nowPage)},nextBtn(){if(this.nowPage===this.nowPage-1)return this.nowPage;this.nowPage=this.nowPage+1,this.updatePage(this.nowPage)}}};const co=(0,d.Z)(ro,[["render",io]]);var uo=co,po={name:"Products-view",data(){return{products:[],pagination:{},tempProduct:{},isNew:!1,isLoading:!1}},inject:["emitter"],components:{ProductModal:We,DeleteModal:Je,Pagination:uo},methods:{getProducts(t=1){const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/products?page=${t}`;this.isLoading=!0,this.$http.get(e).then((t=>{this.isLoading=!1,t.data.success&&(this.products=t.data.products,this.pagination=t.data.pagination)}))},openProductModal(t,e){this.tempProduct=t?{}:{...e},this.isNew=t;const o=this.$refs.productModal;o.showModal(),this.isLoading=!1},updateProduct(t){this.tempProduct=t;let e="https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/product",o="post";this.isLoading=!0,this.isNew||(e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/product/${t.id}`,o="put",this.isLoading=!0);const a=this.$refs.productModal;this.$http[o](e,{data:this.tempProduct}).then((t=>{a.hideModal(),this.getProducts(),this.$httpMsgState(t,"更新產品")})),this.isLoading=!1},deleteProductModal(t){this.tempProduct={...t};const e=this.$refs.deleteModal;e.showModal()},deleteProduct(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/product/${this.tempProduct.id}`;this.$http.delete(t).then((t=>{const e=this.$refs.deleteModal;e.hideModal(),this.getProducts()}))}},created(){this.getProducts()}};const mo=(0,d.Z)(po,[["render",Et]]);var ho=mo;const go={class:"table mt-4"},_o=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{width:"120"},"購買時間"),(0,i._)("th",{width:"160"},"Email"),(0,i._)("th",{width:"160"},"購買紀錄"),(0,i._)("th",{width:"80"},"應付金額"),(0,i._)("th",{width:"80"},"是否已付款"),(0,i._)("th",{width:"100"},"編輯")])],-1),bo=["textContent"],vo={class:"list-unstyled"},wo={class:"text-right"},fo=["id","onUpdate:modelValue","onChange"],yo=["for"],Po={key:0,class:"text-success"},ko={key:1,class:"text-muted"},xo={class:"btn-group"},Mo=["onClick"],Co=["onClick"];function $o(t,e,o,s,n,l){const r=(0,i.up)("Loading"),d=(0,i.up)("Pagination"),c=(0,i.up)("OrderModal"),u=(0,i.up)("DeleteModal");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r,{active:n.isLoading},null,8,["active"]),(0,i._)("table",go,[_o,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.orders,((e,o)=>((0,i.wg)(),(0,i.iD)("tr",{key:o},[(0,i._)("td",null,(0,pt.zw)(t.$filters.date(e.create_at)),1),(0,i._)("td",null,[e.user?((0,i.wg)(),(0,i.iD)("span",{key:0,textContent:(0,pt.zw)(e.user.email)},null,8,bo)):(0,i.kq)("",!0)]),(0,i._)("td",null,[(0,i._)("ul",vo,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.products,((t,e)=>((0,i.wg)(),(0,i.iD)("li",{key:e},(0,pt.zw)(t.product.title)+" 數量: "+(0,pt.zw)(t.qty)+" "+(0,pt.zw)(t.product.unit),1)))),128))])]),(0,i._)("td",wo,(0,pt.zw)(e.total),1),(0,i._)("td",null,[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"checkbox",id:`paidSwitch${e.id}`,"onUpdate:modelValue":t=>e.is_paid=t,onChange:t=>l.updatePaid(e)},null,40,fo),[[a.e8,e.is_paid]]),(0,i._)("label",{class:"form-check-label",for:`paidSwitch${e.id}`},[e.is_paid?((0,i.wg)(),(0,i.iD)("span",Po,"已付款")):((0,i.wg)(),(0,i.iD)("span",ko,"未付款"))],8,yo)]),(0,i._)("td",null,[(0,i._)("div",xo,[(0,i._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>l.openModal(!1,e)},"檢視",8,Mo),(0,i._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t=>l.deleteOrderModal(e)},"刪除",8,Co)])])])))),128))])]),(0,i.Wm)(d,{pages:n.pagination,onEmitPages:l.getOrders},null,8,["pages","onEmitPages"]),(0,i.Wm)(c,{ref:"orderModal",product:n.tempOrder,onUpdatePaid:l.updatePaid},null,8,["product","onUpdatePaid"]),(0,i.Wm)(u,{ref:"deleteModal",item:n.tempOrder,onDeleteItem:l.deleteOrder},null,8,["item","onDeleteItem"])],64)}const Do={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},Oo={class:"modal-dialog modal-xl",role:"document"},Uo={class:"modal-content border-0"},Lo=(0,i._)("div",{class:"modal-header bg-dark text-white"},[(0,i._)("h5",{class:"modal-title",id:"exampleModalLabel"},[(0,i._)("span",null,"訂單細節")]),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),zo={class:"modal-body"},jo={class:"row"},Io={class:"col-md-4"},Wo=(0,i._)("h3",null,"用戶資料",-1),No={class:"table"},Zo={key:0},Vo=(0,i._)("th",{style:{width:"100px"}},"姓名",-1),To=(0,i._)("th",null,"Email",-1),Ho=(0,i._)("th",null,"電話",-1),Eo=(0,i._)("th",null,"地址",-1),Yo={class:"col-md-8"},So=(0,i._)("h3",null,"訂單細節",-1),qo={class:"table"},Ko=(0,i._)("th",{style:{width:"100px"}},"訂單編號",-1),Bo=(0,i._)("th",null,"下單時間",-1),Fo=(0,i._)("th",null,"付款時間",-1),Ao={key:0},Go={key:1},Ro=(0,i._)("th",null,"付款狀態",-1),Jo={key:0,class:"text-success"},Qo={key:1,class:"text-muted"},Xo=(0,i._)("th",null,"總金額",-1),ta=(0,i._)("h3",null,"選購商品",-1),ea={class:"table"},oa=(0,i._)("thead",null,[(0,i._)("tr")],-1),aa={class:"text-end"},sa={class:"modal-footer"},na=(0,i._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消 ",-1);function la(t,e,o,a,s,n){return(0,i.wg)(),(0,i.iD)("div",Do,[(0,i._)("div",Oo,[(0,i._)("div",Uo,[Lo,(0,i._)("div",zo,[(0,i._)("div",jo,[(0,i._)("div",Io,[Wo,(0,i._)("table",No,[s.tempOrder.user?((0,i.wg)(),(0,i.iD)("tbody",Zo,[(0,i._)("tr",null,[Vo,(0,i._)("td",null,(0,pt.zw)(s.tempOrder.user.name),1)]),(0,i._)("tr",null,[To,(0,i._)("td",null,(0,pt.zw)(s.tempOrder.user.email),1)]),(0,i._)("tr",null,[Ho,(0,i._)("td",null,(0,pt.zw)(s.tempOrder.user.tel),1)]),(0,i._)("tr",null,[Eo,(0,i._)("td",null,(0,pt.zw)(s.tempOrder.user.address),1)])])):(0,i.kq)("",!0)])]),(0,i._)("div",Yo,[So,(0,i._)("table",qo,[(0,i._)("tbody",null,[(0,i._)("tr",null,[Ko,(0,i._)("td",null,(0,pt.zw)(s.tempOrder.id),1)]),(0,i._)("tr",null,[Bo,(0,i._)("td",null,(0,pt.zw)(t.$filters.date(s.tempOrder.create_at)),1)]),(0,i._)("tr",null,[Fo,(0,i._)("td",null,[s.tempOrder.paid_date?((0,i.wg)(),(0,i.iD)("span",Ao,(0,pt.zw)(t.$filters.date(s.tempOrder.paid_date)),1)):((0,i.wg)(),(0,i.iD)("span",Go,"時間不正確"))])]),(0,i._)("tr",null,[Ro,(0,i._)("td",null,[s.tempOrder.is_paid?((0,i.wg)(),(0,i.iD)("strong",Jo,"已付款")):((0,i.wg)(),(0,i.iD)("span",Qo,"尚未付款"))])]),(0,i._)("tr",null,[Xo,(0,i._)("td",null,(0,pt.zw)(t.$filters.currency(s.tempOrder.total)),1)])])]),ta,(0,i._)("table",ea,[oa,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.tempOrder.products,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("th",null,(0,pt.zw)(e.product.title),1),(0,i._)("td",null,(0,pt.zw)(e.qty)+" / "+(0,pt.zw)(e.product.unit),1),(0,i._)("td",aa,(0,pt.zw)(t.$filters.currency(e.final_total)),1)])))),128))])])])])]),(0,i._)("div",sa,[na,(0,i._)("button",{type:"button",class:"btn btn-primary",onClick:e[0]||(e[0]=e=>t.$emit("update-order",s.tempOrder))},"確認")])])])],512)}var ia={name:"OrderModal",props:{order:{type:Object,default(){return{}}}},mixins:[ze],emits:["update-paid"],inject:["emitter"],watch:{order(){this.tempOrder=this.order,this.isPaid=this.tempOrder.is_paid}},data(){return{status:{},modal:"",tempOrder:{},isPaid:!1}}};const ra=(0,d.Z)(ia,[["render",la]]);var da=ra,ca={name:"Orders-view",data(){return{orders:{},pagination:{},tempOrder:{},isLoading:!1,isNew:!1,currentPage:1}},components:{Pagination:uo,OrderModal:da,DeleteModal:Je},methods:{getOrders(t=1){this.currentPage=t;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/orders?page=${t}`;this.isLoading=!0,this.$http.get(e).then((t=>{t.data.success&&(this.orders=t.data.orders,this.pagination=t.data.pagination,this.isLoading=!1)}))},openModal(t,e){this.tempOrder={...e},this.isNew=t;const o=this.$refs.orderModal;o.showModal()},deleteOrderModal(t){this.tempOrder={...t};const e=this.$refs.deleteModal;e.showModal()},updatePaid(t){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/order/${t.id}`,o={is_paid:t.is_paid};this.$http.put(e,{data:o}).then((t=>{this.isLoading=!1,this.getOrders(),this.$httpMsgState(t,"更新付款狀態")}))},deleteOrder(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/order/${this.tempOrder.id}`;this.$http.delete(t).then((t=>{const e=this.$refs.deleteModal;e.hideModal(),this.getOrders(this.currentPage)}))}},created(){this.getOrders()}};const ua=(0,d.Z)(ca,[["render",$o]]);var pa=ua;const ma={class:"text-end mt-4"},ha={class:"table mt-4"},ga=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"名稱"),(0,i._)("th",null,"折扣百分比"),(0,i._)("th",null,"到期日"),(0,i._)("th",null,"是否啟用"),(0,i._)("th",null,"編輯")])],-1),_a={key:0,class:"text-success"},ba={key:1,class:"text-muted"},va={class:"btn-group"},wa=["onClick"],fa=["onClick"];function ya(t,e,o,a,s,n){const l=(0,i.up)("Loading"),r=(0,i.up)("CouponModal"),d=(0,i.up)("DeleteModal"),c=(0,i.up)("Pagination");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(l,{active:s.isLoading},null,8,["active"]),(0,i._)("div",ma,[(0,i._)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=t=>n.openCouponModel(!0))}," 建立新的優惠券 ")]),(0,i._)("table",ha,[ga,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.coupons,((e,o)=>((0,i.wg)(),(0,i.iD)("tr",{key:o},[(0,i._)("td",null,(0,pt.zw)(e.title),1),(0,i._)("td",null,(0,pt.zw)(e.percent)+"%",1),(0,i._)("td",null,(0,pt.zw)(t.$filters.date(e.due_date)),1),(0,i._)("td",null,[1===e.is_enabled?((0,i.wg)(),(0,i.iD)("span",_a,"啟用")):((0,i.wg)(),(0,i.iD)("span",ba,"未起用"))]),(0,i._)("td",null,[(0,i._)("div",va,[(0,i._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>n.openCouponModel(!1,e)},"編輯",8,wa),(0,i._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t=>n.deleteCouponModal(e)},"刪除",8,fa)])])])))),128))])]),(0,i.Wm)(r,{coupon:s.tempDiscount,ref:"couponModal",onUpdateCoupon:n.updateCoupon},null,8,["coupon","onUpdateCoupon"]),(0,i.Wm)(d,{item:s.tempDiscount,ref:"deleteModal",onDeleteItem:n.deleteCoupon},null,8,["item","onDeleteItem"]),(0,i.Wm)(c,{pages:s.pagination,onEmitPages:n.getCoupons},null,8,["pages","onEmitPages"])])}const Pa={class:"modal fade",id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},ka={class:"modal-dialog",role:"document"},xa={class:"modal-content"},Ma={class:"modal-header"},Ca={class:"modal-title",id:"exampleModalLabel"},$a=(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Da={class:"modal-body"},Oa={class:"mb-3"},Ua=(0,i._)("label",{for:"title"},"標題",-1),La={class:"mb-3"},za=(0,i._)("label",{for:"coupon_code"},"優惠碼",-1),ja={class:"mb-3"},Ia=(0,i._)("label",{for:"due_date"},"到期日",-1),Wa={class:"mb-3"},Na=(0,i._)("label",{for:"price"},"折扣百分比",-1),Za={class:"mb-3"},Va={class:"form-check"},Ta=(0,i._)("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ",-1),Ha={class:"modal-footer"},Ea=(0,i._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function Ya(t,e,o,s,n,l){return(0,i.wg)(),(0,i.iD)("div",Pa,[(0,i._)("div",ka,[(0,i._)("div",xa,[(0,i._)("div",Ma,[(0,i._)("h5",Ca,(0,pt.zw)(n.tempCoupon.title?"編輯優惠券":"新增優惠券"),1),$a]),(0,i._)("div",Da,[(0,i._)("div",Oa,[Ua,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":e[0]||(e[0]=t=>n.tempCoupon.title=t),placeholder:"請輸入標題"},null,512),[[a.nr,n.tempCoupon.title]])]),(0,i._)("div",La,[za,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"coupon_code","onUpdate:modelValue":e[1]||(e[1]=t=>n.tempCoupon.code=t),placeholder:"請輸入優惠碼"},null,512),[[a.nr,n.tempCoupon.code]])]),(0,i._)("div",ja,[Ia,(0,i.wy)((0,i._)("input",{type:"date",class:"form-control",id:"due_date","onUpdate:modelValue":e[2]||(e[2]=t=>n.due_date=t)},null,512),[[a.nr,n.due_date]])]),(0,i._)("div",Wa,[Na,(0,i.wy)((0,i._)("input",{type:"number",class:"form-control",id:"price","onUpdate:modelValue":e[3]||(e[3]=t=>n.tempCoupon.percent=t),placeholder:"請輸入折扣百分比"},null,512),[[a.nr,n.tempCoupon.percent,void 0,{number:!0}]])]),(0,i._)("div",Za,[(0,i._)("div",Va,[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":e[4]||(e[4]=t=>n.tempCoupon.is_enabled=t),id:"is_enabled"},null,512),[[a.e8,n.tempCoupon.is_enabled]]),Ta])])]),(0,i._)("div",Ha,[Ea,(0,i._)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=e=>t.$emit("update-coupon",n.tempCoupon))},"更新優惠券 ")])])])],512)}var Sa={name:"CouponModal",props:{coupon:{}},data(){return{tempCoupon:{},due_date:""}},emits:["update-coupon"],watch:{coupon(){this.tempCoupon=this.coupon},due_date(){this.tempCoupon.due_date=Math.floor(new Date(this.due_date)/1e3)}},mixins:[ze]};const qa=(0,d.Z)(Sa,[["render",Ya]]);var Ka=qa,Ba={name:"Discount-view",data(){return{coupons:{},tempDiscount:{title:"",is_enabled:0,percent:100,code:""},isNew:!1,isLoading:!1,pagination:{}}},components:{CouponModal:Ka,DeleteModal:Je,Pagination:uo},methods:{openCouponModel(t,e){this.isNew=t,this.isNew?this.tempDiscount={due_date:(new Date).getTime()/1e3}:this.tempDiscount={...e},this.$refs.couponModal.showModal(),this.isLoading=!1},getCoupons(t=1){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupons?page=${t}`;this.$http.get(e,this.tempDiscount).then((t=>{this.coupons=t.data.coupons,this.pagination=t.data.pagination,this.isLoading=!1}))},updateCoupon(t){if(this.isNew){const e="https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupon";this.$http.post(e,{data:t}).then((t=>{this.$httpMsgState(t,"新增優惠券"),this.getCoupons(),this.$refs.couponModal.hideModal()}))}else{const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupon/${this.tempDiscount.id}`;this.$http.put(e,{data:t}).then((t=>{this.$httpMsgState(t,"更新優惠券"),this.getCoupons(),this.$refs.couponModal.hideModal()}))}},deleteCouponModal(t){this.tempDiscount={...t};const e=this.$refs.deleteModal;e.showModal()},deleteCoupon(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupon/${this.tempDiscount.id}`;this.isLoading=!0,this.$http.delete(t).then((t=>{this.$httpMsgState(t,"刪除優惠券");const e=this.$refs.deleteModal;e.hideModal(),this.getCoupons()}))}},created(){this.getCoupons()}};const Fa=(0,d.Z)(Ba,[["render",ya]]);var Aa=Fa;const Ga={class:"container-fluid mt-3 position-relative"};function Ra(t,e,o,a,s,n){const l=(0,i.up)("UserHeader"),r=(0,i.up)("ToastMessages"),d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i._)("div",Ga,[(0,i.Wm)(r),(0,i.Wm)(d)])],64)}var Ja={name:"ProductBoard",components:{UserHeader:$,ToastMessages:Ct},provide(){return{emitter:dt}},created(){}};const Qa=(0,d.Z)(Ja,[["render",Ra]]);var Xa=Qa;const ts=t=>((0,i.dD)("data-v-5b8c9832"),t=t(),(0,i.Cn)(),t),es={class:"wrap"},os={class:"showProduct mt-4"},as={class:"showProduct__card--img"},ss=["onClick"],ns=["src"],ls={class:"showProduct__info"},is={class:"showProduct__info--content"},rs={class:"showProduct__info--title"},ds={class:"showProduct__info--price"},cs=ts((()=>(0,i._)("h6",null,"價格",-1))),us={class:"showProduct__footer"},ps=["onClick"],ms=["onClick"];function hs(t,e,o,s,n,l){return(0,i.wg)(),(0,i.iD)("div",es,[(0,i._)("div",os,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.products,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t.id,class:"showProduct__card",style:{width:"18rem"}},[(0,i._)("div",as,[(0,i._)("a",{href:"#",onClick:(0,a.iM)((e=>l.viewMore(t.id)),["prevent"])},[(0,i._)("img",{src:t.imageUrl,alt:""},null,8,ns)],8,ss)]),(0,i._)("div",ls,[(0,i._)("p",is,(0,pt.zw)(t.content),1),(0,i._)("p",rs,(0,pt.zw)(t.title),1),(0,i._)("div",ds,[cs,(0,i._)("p",null,"NT: "+(0,pt.zw)(t.origin_price)+" 元",1)])]),(0,i._)("div",us,[(0,i._)("button",{type:"button",class:"view-more btn btn-outline-secondary",onClick:e=>l.viewMore(t.id)}," 查看更多 ",8,ps),(0,i._)("button",{type:"button",class:"add-cart btn btn-outline-secondary",onClick:e=>l.addToCart(t.id)}," 加到購物車 ",8,ms)])])))),128))])])}var gs={name:"ProductItem",data(){return{products:[],status:{loadingItem:""}}},inject:["emitter"],methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,this.isLoading=!1}))},viewMore(t){this.$router.push(`/products/product/${t}`)},addToCart(t){const e="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.status.loadingItem=t;const o={product_id:t,qty:1};this.$http.post(e,{data:o}).then((t=>{console.log(t),this.status.loadingItem=""}))}},created(){this.getProducts()}};const _s=(0,d.Z)(gs,[["render",hs],["__scopeId","data-v-5b8c9832"]]);var bs=_s;const vs=t=>((0,i.dD)("data-v-1b94d986"),t=t(),(0,i.Cn)(),t),ws={class:"wrap"},fs={class:"product-title-img"},ys={class:"product-title-img__img-place"},Ps=["src"],ks={class:"product-info"},xs=vs((()=>(0,i._)("br",null,null,-1))),Ms=vs((()=>(0,i._)("br",null,null,-1))),Cs={key:0,class:"product-info__btn-place"};function $s(t,e,o,a,s,n){const l=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l,{active:s.isLoading},null,8,["active"]),(0,i._)("div",ws,[(0,i._)("div",fs,[(0,i._)("div",ys,[(0,i._)("img",{src:s.product.imageUrl,alt:""},null,8,Ps)])]),(0,i._)("div",ks,[(0,i._)("h2",null,(0,pt.zw)(s.product.content),1),(0,i._)("p",null,(0,pt.zw)(s.product.title),1),xs,(0,i._)("h3",null,(0,pt.zw)(s.product.description),1),Ms,(0,i._)("h4",null,"售價 : "+(0,pt.zw)(s.product.origin_price)+" 元",1),s.product.price?((0,i.wg)(),(0,i.iD)("div",Cs,[(0,i._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[0]||(e[0]=(...t)=>n.returnProducts&&n.returnProducts(...t))}," 返回商品頁 "),(0,i._)("button",{type:"button",class:"btn btn-outline-danger",onClick:e[1]||(e[1]=e=>t.addToCart(s.product.id))}," 加到購物車 ")])):(0,i.kq)("",!0)])])],64)}var Ds={name:"ProductItem",data(){return{product:{},id:"",isLoading:!1}},inject:["emitter"],methods:{getProduct(){this.id=this.$route.params.productId;const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/product/${this.id}`;this.$http.get(t).then((t=>{t.data.success&&(this.product=t.data.product)})).catch((t=>{console.log(t)}))},returnProducts(){this.$router.push("/products/productsIndex")}},created(){this.getProduct()}};const Os=(0,d.Z)(Ds,[["render",$s],["__scopeId","data-v-1b94d986"]]);var Us=Os;function Ls(t,e,o,a,s,n){return" 123 "}var zs={name:"UserCart",data(){return{products:[],isLoading:!1}},components:{},methods:{}};const js=(0,d.Z)(zs,[["render",Ls]]);var Is=js;const Ws=[{path:"/",name:"home",component:U},{path:"/login",name:"Login",component:B},{path:"/dashboard",component:Ot,children:[{path:"products",component:ho},{path:"orders",component:pa},{path:"discount",component:Aa}]},{path:"/products",component:Xa,children:[{path:"productsIndex",component:bs},{path:"product/:productId",component:Us}]},{path:"/cart",component:Is}],Ns=(0,m.p7)({history:(0,m.r5)(),routes:Ws,linkActiveClass:"active"});var Zs=Ns,Vs=o(6216);function Ts(t){const e=parseInt(t,10);return`${e.toFixed(0).replace(/./g,((t,e,o)=>e&&"."!==t&&(o.length-e)%3===0?`, ${t}`.replace(/\s/g,""):t))}`}function Hs(t){const e=new Date(1e3*t);return e.toLocaleDateString()}function Es(t,e="更新"){if(t.data.success)dt.emit("push-message",{style:"success",title:`${e}成功`});else{const o="string"===typeof t.data.message?[t.data.message]:t.data.message;dt.emit("push-message",{style:"danger",title:`${e}失敗`,content:o.join("、")})}}const Ys=(0,a.ri)(p);Ys.config.globalProperties.$filters={currency:Ts,date:Hs},Ys.config.globalProperties.$httpMsgState=Es,Ys.component("Loading",Vs.Z),Ys.use(l.Z,n()),Ys.use(Zs),Ys.mount("#app")}},e={};function o(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=t,function(){o.amdO={}}(),function(){var t=[];o.O=function(e,a,s,n){if(!a){var l=1/0;for(c=0;c<t.length;c++){a=t[c][0],s=t[c][1],n=t[c][2];for(var i=!0,r=0;r<a.length;r++)(!1&n||l>=n)&&Object.keys(o.O).every((function(t){return o.O[t](a[r])}))?a.splice(r--,1):(i=!1,n<l&&(l=n));if(i){t.splice(c--,1);var d=s();void 0!==d&&(e=d)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[a,s,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,n,l=a[0],i=a[1],r=a[2],d=0;if(l.some((function(e){return 0!==t[e]}))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(r)var c=r(o)}for(e&&e(a);d<l.length;d++)n=l[d],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(c)},a=self["webpackChunkjustin_project"]=self["webpackChunkjustin_project"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(8604)}));a=o.O(a)})();
//# sourceMappingURL=app.3a8e0ce5.js.map