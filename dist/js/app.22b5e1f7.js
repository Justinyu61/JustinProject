(function(){"use strict";var t={2058:function(t,e,a){var s=a(9242),o=a(6265),n=a.n(o),i=a(6423),l=a(3396);function r(t,e,a,s,o,n){const i=(0,l.up)("UserHeader"),r=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i),(0,l.Wm)(r)],64)}var d=a(7139),c=a.p+"img/1010_APOTHECARY_LOGO-OK-01.e3e99e29.png";const u=t=>((0,l.dD)("data-v-f23b7c8a"),t=t(),(0,l.Cn)(),t),p={class:"header"},m=u((()=>(0,l._)("div",{class:"header__hide-box"},null,-1))),h={class:"header__logo"},g=u((()=>(0,l._)("img",{src:c,alt:""},null,-1))),_={class:"header__mini-bar"},v={class:"mini-user"},b={class:"btn mini-user__img"},w={class:"mini-cart"},f={class:"container"},y={class:"cartIcon"},k={key:0,class:"icon-num"},C={key:1,class:"icon-null"},P={class:"cart-wrap"},D={class:"cart-container"},x={class:"cart-header"},A=(0,l.Uk)(" 購物車 "),U={key:0},M={class:"cart-photo"},L=["src"],I={class:"cart-text"},W={class:"num"},H=["disabled","onClick"],O={key:1,class:"cart-footer"},S=u((()=>(0,l._)("h4",null,"小計",-1))),$={key:2,class:"cart-checkout"},j=(0,l.Uk)(" 結帳 "),z={class:"nav-container"},B={class:"scroll-menu"},Y={class:"navbar-nav me-auto"},q={class:"nav-item"},T=(0,l.Uk)("最新消息"),E={class:"nav-item"},V=(0,l.Uk)("品牌"),N={class:"nav-item"},J=(0,l.Uk)("香氛小知識"),K={class:"nav-item"},Z=(0,l.Uk)("關於我們"),F={class:"nav-item"},Q=(0,l.Uk)("購物車"),R=u((()=>(0,l._)("span",null,null,-1))),X=u((()=>(0,l._)("span",null,null,-1))),G=u((()=>(0,l._)("span",null,null,-1))),tt=[R,X,G],et={class:"mobile-menu"},at={class:"navbar-nav"},st={class:"nav-item"},ot=(0,l.Uk)("最新消息"),nt={class:"nav-item"},it=(0,l.Uk)("品牌"),lt={class:"nav-item"},rt=(0,l.Uk)("香氛小知識"),dt={class:"nav-item"},ct=(0,l.Uk)("關於我們"),ut={class:"nav-item"},pt=(0,l.Uk)("購物車");function mt(t,e,a,o,n,i){const r=(0,l.up)("router-link"),c=(0,l.up)("font-awesome-icon");return(0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("div",{class:(0,d.C_)(["header-container",{"scroll-nav":n.scrollNav}])},[m,(0,l._)("div",h,[(0,l.Wm)(r,{to:"/"},{default:(0,l.w5)((()=>[g])),_:1})]),(0,l._)("div",_,[(0,l._)("div",v,[(0,l._)("button",b,[(0,l.Wm)(c,{icon:["fas","user"]})])]),(0,l._)("div",w,[(0,l._)("div",f,[(0,l._)("div",y,[(0,l._)("button",{class:"btn cartIcon__img",onClick:e[0]||(e[0]=(...t)=>i.sideCartToggle&&i.sideCartToggle(...t))},[(0,l.Wm)(c,{icon:["fas","bag-shopping"]})]),0!==n.cartLen?((0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("p",null,(0,d.zw)(n.cartLen),1)])):((0,l.wg)(),(0,l.iD)("div",C,[(0,l._)("p",null,(0,d.zw)(n.cartLen),1)]))]),(0,l.wy)((0,l.Wm)(s.uT,{name:"sideCart"},{default:(0,l.w5)((()=>[(0,l._)("div",P,[(0,l._)("div",D,[(0,l._)("div",x,[(0,l._)("h2",null,[(0,l.Wm)(c,{icon:["fas","cart-shopping"]}),A]),(0,l._)("a",{href:"#",onClick:e[1]||(e[1]=(0,s.iM)(((...t)=>i.sideCartToggle&&i.sideCartToggle(...t)),["prevent"]))},[(0,l.Wm)(c,{icon:["fas","xmark"]})])]),0===n.cartLen?((0,l.wg)(),(0,l.iD)("h3",U,"購物車是空的喲!")):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.cart.carts,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"cart-item",key:e.id},[(0,l._)("div",M,[(0,l._)("img",{src:e.product.imageUrl,alt:""},null,8,L)]),(0,l._)("div",I,[(0,l._)("h3",null,(0,d.zw)(e.product.title),1),(0,l._)("div",W,[(0,l._)("h4",null,(0,d.zw)(e.qty)+" 件",1),(0,l._)("h4",null,"NT "+(0,d.zw)(t.$filters.currency(e.total))+" 元",1)])]),(0,l._)("button",{type:"button",class:"cart-del",disabled:this.status.loadingItem===e.id,onClick:t=>i.removeCartItem(e.id)},[this.status.loadingItem===e.id?((0,l.wg)(),(0,l.j4)(c,{key:0,icon:["fas","spinner"]})):((0,l.wg)(),(0,l.j4)(c,{key:1,icon:["fas","trash-can"]}))],8,H)])))),128)),0!==n.cartLen?((0,l.wg)(),(0,l.iD)("div",O,[S,(0,l._)("h5",null,"$ "+(0,d.zw)(t.$filters.currency(n.cart.total)),1)])):(0,l.kq)("",!0),0!==n.cartLen?((0,l.wg)(),(0,l.iD)("div",$,[(0,l.Wm)(r,{to:"/cart/cartPage"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{icon:["fas","cart-shopping"]}),j])),_:1})])):(0,l.kq)("",!0)])])])),_:1},512),[[s.F8,n.sideCart]])])])])],2),(0,l._)("div",z,[(0,l.wy)((0,l._)("nav",B,[(0,l._)("ul",Y,[(0,l._)("li",q,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[T])),_:1})]),(0,l._)("li",E,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[V])),_:1})]),(0,l._)("li",N,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[J])),_:1})]),(0,l._)("li",K,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[Z])),_:1})]),(0,l._)("li",F,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[Q])),_:1})])])],512),[[s.F8,!n.mobile]]),(0,l.wy)((0,l._)("div",{class:(0,d.C_)(["hamburger-icon",{"hamburger-icon-active":n.mobileNav}]),onClick:e[2]||(e[2]=(...t)=>i.toggleNav&&i.toggleNav(...t))},tt,2),[[s.F8,n.mobile]]),(0,l.Wm)(s.uT,{name:"mobile-nav"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("nav",et,[(0,l._)("ul",at,[(0,l._)("li",st,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[ot])),_:1})]),(0,l._)("li",nt,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[it])),_:1})]),(0,l._)("li",lt,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[rt])),_:1})]),(0,l._)("li",dt,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[ct])),_:1})]),(0,l._)("li",ut,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[pt])),_:1})])])],512),[[s.F8,n.mobileNav]])])),_:1})])])}var ht=a(1373);const gt=(0,ht.Z)();var _t=gt,vt={name:"Navbar-view",data(){return{cartLen:0,cart:{},products:[],product:{},sideCart:"",status:{loadingItem:""},navbarOpen:!1,scrollNav:"",mobileNav:"",mobile:"",screenWidth:""}},components:{},methods:{getCartList(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.$http.get(t).then((t=>{this.cart=t.data.data,this.cartLen=t.data.data.carts.length}))},removeCartItem(t){this.status.loadingItem=t;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/cart/${t}`;this.$http.delete(e).then((t=>{this.$httpMsgState(t,"產品移除"),this.status.loadingItem="",this.getCart()}))},sideCartToggle(){this.sideCart=!this.sideCart},toggleNav(){this.mobileNav=!this.mobileNav},screenSize(){this.screenWidth=window.innerWidth,this.screenWidth<=768?this.mobile=!0:(this.mobile=!1,this.mobileNav=!1)},updateScroll(){const t=window.scrollY;console.log(t),this.scrollNav=t>50}},created(){this.getCartList(),this.screenSize(),_t.on("updateCart",(t=>{this.cart=t})),window.addEventListener("resize",this.screenSize)},mounted(){window.addEventListener("scroll",this.updateScroll)}},bt=a(89);const wt=(0,bt.Z)(vt,[["render",mt],["__scopeId","data-v-f23b7c8a"]]);var ft=wt,yt={components:{UserHeader:ft}};const kt=(0,bt.Z)(yt,[["render",r]]);var Ct=kt,Pt=a(2483);const Dt=t=>((0,l.dD)("data-v-3b4557e2"),t=t(),(0,l.Cn)(),t),xt={class:"wrap"},At=Dt((()=>(0,l._)("div",{class:"main"},[(0,l._)("div",{class:"banner"}),(0,l._)("div",{class:"introduction"})],-1))),Ut=Dt((()=>(0,l._)("div",{class:"footer"},null,-1))),Mt=[At,Ut];function Lt(t,e,a,s,o,n){return(0,l.wg)(),(0,l.iD)("div",xt,Mt)}var It={name:"Home-view",data(){return{brandDiptyque:[],brandBamford:[],brandMZ:[]}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.brandDiptyque=t.data.products.filter((t=>"diptyque"===t.category)),this.brandDiptyque=t.data.products.filter((t=>"bamford"===t.category)),this.brandDiptyque=t.data.products.filter((t=>"MALIN+GOETZ"===t.category)),this.isLoading=!1}))}},created(){this.getProducts()}};const Wt=(0,bt.Z)(It,[["render",Lt],["__scopeId","data-v-3b4557e2"]]);var Ht=Wt;const Ot={class:"container mt-5"},St={class:"col-md-6"},$t=(0,l._)("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),jt={class:"mb-2"},zt=(0,l._)("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),Bt={class:"mb-2"},Yt=(0,l._)("label",{for:"inputPassword",class:"sr-only"},"Password",-1),qt=(0,l._)("div",{class:"text-end mt-4"},[(0,l._)("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"},"登入")],-1);function Tt(t,e,a,o,n,i){return(0,l.wg)(),(0,l.iD)("div",Ot,[(0,l._)("form",{class:"row justify-content-center",onSubmit:e[2]||(e[2]=(0,s.iM)(((...t)=>o.signIn&&o.signIn(...t)),["prevent"]))},[(0,l._)("div",St,[$t,(0,l._)("div",jt,[zt,(0,l.wy)((0,l._)("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t)},null,512),[[s.nr,o.username]])]),(0,l._)("div",Bt,[Yt,(0,l.wy)((0,l._)("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t)},null,512),[[s.nr,o.password]])]),qt])],32)])}var Et=a(4870);const Vt=n().create({baseURL:"https://vue3-course-api.hexschool.io/",timeout:1e4}),Nt=(t,e={})=>new Promise(((a,s)=>{Vt.post(t,e).then((t=>{a(t)}),(t=>{s(t)}))})),Jt=()=>{const t=(0,Pt.tv)(),e=(0,Et.qj)({username:"",password:""}),a=async()=>{try{const a=await Nt("admin/signin",{username:e.username,password:e.password});if(a?.data?.success){const{token:e,expired:s}=a.data;document.cookie=`hexToken=${e}; expires=${new Date(s)}`,console.log("登入成功"),await t.push("/dashboard/products")}}catch(a){console.log(a)}},{username:s,password:o}=(0,Et.BK)(e);return{username:s,password:o,signIn:a}};var Kt={name:"Login-view",setup(){const{username:t,password:e,signIn:a}=Jt();return{username:t,password:e,signIn:a}}};const Zt=(0,bt.Z)(Kt,[["render",Tt]]);var Ft=Zt;const Qt={class:"container-fluid mt-3 position-relative"};function Rt(t,e,a,s,o,n){const i=(0,l.up)("Navbar"),r=(0,l.up)("ToastMessages"),d=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i),(0,l._)("div",Qt,[(0,l.Wm)(r),(0,l.Wm)(d)])],64)}const Xt={class:"navbar navbar-expand-lg navbar-light bg-light"},Gt=(0,l._)("a",{class:"navbar-brand",href:"#"},"這裡是LOGO",-1),te=(0,l._)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,l._)("span",{class:"navbar-toggler-icon"})],-1),ee={class:"collapse navbar-collapse",id:"navbarNav"},ae={class:"navbar-nav"},se=(0,l.Uk)("商品"),oe=(0,l.Uk)("訂單"),ne=(0,l.Uk)("優惠券");function ie(t,e,a,o,n,i){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("nav",Xt,[Gt,te,(0,l._)("div",ee,[(0,l._)("div",ae,[(0,l.Wm)(r,{to:"/dashboard/products",class:"nav-link"},{default:(0,l.w5)((()=>[se])),_:1}),(0,l.Wm)(r,{to:"/dashboard/orders",class:"nav-link"},{default:(0,l.w5)((()=>[oe])),_:1}),(0,l.Wm)(r,{to:"/dashboard/discount",class:"nav-link"},{default:(0,l.w5)((()=>[ne])),_:1}),(0,l._)("a",{class:"nav-link",href:"#",onClick:e[0]||(e[0]=(0,s.iM)(((...t)=>i.logout&&i.logout(...t)),["prevent"]))},"登出")])])])}var le={name:"Navbar-view",methods:{logout(){const t="https://vue3-course-api.hexschool.io/logout";this.$http.post(t,this.user).then((t=>{t.data.success&&this.$router.push("/login")}))}}};const re=(0,bt.Z)(le,[["render",ie]]);var de=re;const ce={class:"toast-container position-absolute pe-3 top-0 end-0"};function ue(t,e,a,s,o,n){const i=(0,l.up)("Toast");return(0,l.wg)(),(0,l.iD)("div",ce,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.messages,((t,e)=>((0,l.wg)(),(0,l.j4)(i,{key:e,msg:t},null,8,["msg"])))),128))])}const pe=t=>((0,l.dD)("data-v-d41cce56"),t=t(),(0,l.Cn)(),t),me={class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},he={class:"toast-header"},ge={class:"me-auto"},_e=pe((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1))),ve={key:0,class:"toast-body"};function be(t,e,a,s,o,n){return(0,l.wg)(),(0,l.iD)("div",me,[(0,l._)("div",he,[(0,l._)("span",{class:(0,d.C_)([`bg-${a.msg.title}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,l._)("strong",ge,(0,d.zw)(a.msg.title),1),_e]),a.msg.content?((0,l.wg)(),(0,l.iD)("div",ve,(0,d.zw)(a.msg.content),1)):(0,l.kq)("",!0)],512)}var we=a(8803),fe=a.n(we),ye={name:"Toast",props:["msg"],mounted(){const t=this.$refs.toast,e=new(fe())(t,{delay:3e3});e.show()}};const ke=(0,bt.Z)(ye,[["render",be],["__scopeId","data-v-d41cce56"]]);var Ce=ke,Pe={name:"ToastMessages",components:{Toast:Ce},data(){return{messages:[]}},inject:["emitter"],mounted(){this.emitter.on("push-message",(t=>{const{style:e="success",title:a,content:s}=t;this.messages.push({style:e,title:a,content:s})}))}};const De=(0,bt.Z)(Pe,[["render",ue],["__scopeId","data-v-10b79b62"]]);var xe=De,Ae={name:"Dashboard-view",components:{Navbar:de,ToastMessages:xe},created(){this.$http.defaults.headers.common.Authorization=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");const t="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(t,this.user).then((t=>{t.data.success||this.$router.push("/login")}))},provide(){return{emitter:_t}}};const Ue=(0,bt.Z)(Ae,[["render",Rt]]);var Me=Ue;const Le={class:"text-end"},Ie={class:"table mt-4"},We=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{width:"100"},"分類"),(0,l._)("th",{width:"200"},"產品名稱"),(0,l._)("th",{width:"120"},"圖片"),(0,l._)("th",{width:"100"},"品牌"),(0,l._)("th",{width:"100"},"原價"),(0,l._)("th",{width:"100"},"售價"),(0,l._)("th",{width:"100"},"件數"),(0,l._)("th",{width:"100"},"是否啟用"),(0,l._)("th",{width:"80"},"編輯")])],-1),He=["src"],Oe={class:"text-right"},Se={class:"text-right"},$e={key:0,class:"text-success"},je={key:1,class:"text-muted"},ze={class:"btn-group"},Be=["onClick"],Ye=["onClick"];function qe(t,e,a,s,o,n){const i=(0,l.up)("Loading"),r=(0,l.up)("Pagination"),c=(0,l.up)("ProductModal"),u=(0,l.up)("DeleteModal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i,{active:o.isLoading},null,8,["active"]),(0,l._)("div",Le,[(0,l._)("button",{class:"btn btn-primary",type:"button",onClick:e[0]||(e[0]=t=>n.openProductModal(!0))}," 新增產品 ")]),(0,l._)("table",Ie,[We,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.products,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,d.zw)(e.category),1),(0,l._)("td",null,(0,d.zw)(e.title),1),(0,l._)("td",null,[(0,l._)("img",{class:"img-fluid",style:{"max-width":"60%"},src:e.imageUrl,alt:""},null,8,He)]),(0,l._)("td",null,(0,d.zw)(e.category),1),(0,l._)("td",Oe,(0,d.zw)(t.$filters.currency(e.origin_price)),1),(0,l._)("td",Se,(0,d.zw)(t.$filters.currency(e.price)),1),(0,l._)("td",null,(0,d.zw)(e.unit),1),(0,l._)("td",null,[e.is_enabled?((0,l.wg)(),(0,l.iD)("span",$e,"啟用")):((0,l.wg)(),(0,l.iD)("span",je,"未啟用"))]),(0,l._)("td",null,[(0,l._)("div",ze,[(0,l._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>n.openProductModal(!1,e)},"編輯",8,Be),(0,l._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t=>n.deleteProductModal(e)},"刪除",8,Ye)])])])))),128))])]),(0,l.Wm)(r,{pages:o.pagination,onEmitPages:n.getProducts},null,8,["pages","onEmitPages"]),(0,l.Wm)(c,{ref:"productModal",product:o.tempProduct,onUpdateProduct:n.updateProduct},null,8,["product","onUpdateProduct"]),(0,l.Wm)(u,{ref:"deleteModal",item:o.tempProduct,onDeleteItem:n.deleteProduct},null,8,["item","onDeleteItem"])],64)}const Te={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},Ee={class:"modal-dialog modal-xl",role:"document"},Ve={class:"modal-content border-0"},Ne={class:"modal-header bg-dark text-white"},Je={class:"modal-title",id:"exampleModalLabel"},Ke=(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ze={class:"modal-body"},Fe={class:"row"},Qe={class:"col-sm-4"},Re={class:"mb-3"},Xe=(0,l._)("label",{for:"image",class:"form-label"},"輸入圖片網址",-1),Ge={class:"mb-3"},ta=(0,l._)("label",{for:"customFile",class:"form-label"},[(0,l.Uk)("或 上傳圖片 "),(0,l._)("i",{class:"fas fa-spinner fa-spin"})],-1),ea=["src"],aa={key:0,class:"mt-5"},sa=["onUpdate:modelValue"],oa=["onClick"],na={key:0},ia={class:"col-sm-8"},la={class:"mb-3"},ra=(0,l._)("label",{for:"title",class:"form-label"},"標題",-1),da={class:"row gx-2"},ca={class:"mb-3 col-md-6"},ua=(0,l._)("label",{for:"category",class:"form-label"},"分類",-1),pa={class:"mb-3 col-md-6"},ma=(0,l._)("label",{for:"price",class:"form-label"},"單位",-1),ha={class:"row gx-2"},ga={class:"mb-3 col-md-6"},_a=(0,l._)("label",{for:"origin_price",class:"form-label"},"原價",-1),va={class:"mb-3 col-md-6"},ba=(0,l._)("label",{for:"price",class:"form-label"},"售價",-1),wa=(0,l._)("hr",null,null,-1),fa={class:"mb-3"},ya=(0,l._)("label",{for:"description",class:"form-label"},"產品描述",-1),ka={class:"mb-3"},Ca=(0,l._)("label",{for:"content",class:"form-label"},"說明內容",-1),Pa={class:"mb-3"},Da={class:"form-check"},xa=(0,l._)("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ",-1),Aa={class:"modal-footer"},Ua=(0,l._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消 ",-1);function Ma(t,e,a,o,n,i){return(0,l.wg)(),(0,l.iD)("div",Te,[(0,l._)("div",Ee,[(0,l._)("div",Ve,[(0,l._)("div",Ne,[(0,l._)("h5",Je,[(0,l._)("span",null,(0,d.zw)(n.tempProduct.title?"編輯產品":"新增產品"),1)]),Ke]),(0,l._)("div",Ze,[(0,l._)("div",Fe,[(0,l._)("div",Qe,[(0,l._)("div",Re,[Xe,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"image",placeholder:"請輸入圖片連結","onUpdate:modelValue":e[0]||(e[0]=t=>n.tempProduct.imageUrl=t)},null,512),[[s.nr,n.tempProduct.imageUrl]])]),(0,l._)("div",Ge,[ta,(0,l._)("input",{type:"file",id:"customFile",class:"form-control",ref:"fileInput",onChange:e[1]||(e[1]=(...t)=>i.uploadFile&&i.uploadFile(...t))},null,544)]),(0,l._)("img",{class:"img-fluid",alt:"",src:n.tempProduct.imageUrl},null,8,ea),n.tempProduct.images?((0,l.wg)(),(0,l.iD)("div",aa,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.tempProduct.images,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"mb-3 input-group",key:e},[(0,l.wy)((0,l._)("input",{type:"url",class:"form-control form-control",placeholder:"請輸入連結","onUpdate:modelValue":t=>n.tempProduct.images[e]=t},null,8,sa),[[s.nr,n.tempProduct.images[e]]]),(0,l._)("button",{type:"button",class:"btn btn-close mt-2",onClick:t=>n.tempProduct.images.splice(e,1)},null,8,oa)])))),128)),n.tempProduct.images[n.tempProduct.images.length-1]||!n.tempProduct.images.length?((0,l.wg)(),(0,l.iD)("div",na,[(0,l._)("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:e[2]||(e[2]=t=>n.tempProduct.images.push(""))}," 新增圖片 ")])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)]),(0,l._)("div",ia,[(0,l._)("div",la,[ra,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"title",placeholder:"請輸入標題","onUpdate:modelValue":e[3]||(e[3]=t=>n.tempProduct.title=t)},null,512),[[s.nr,n.tempProduct.title]])]),(0,l._)("div",da,[(0,l._)("div",ca,[ua,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"category",placeholder:"請輸入分類","onUpdate:modelValue":e[4]||(e[4]=t=>n.tempProduct.category=t)},null,512),[[s.nr,n.tempProduct.category]])]),(0,l._)("div",pa,[ma,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"unit",placeholder:"請輸入單位","onUpdate:modelValue":e[5]||(e[5]=t=>n.tempProduct.unit=t)},null,512),[[s.nr,n.tempProduct.unit]])])]),(0,l._)("div",ha,[(0,l._)("div",ga,[_a,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"origin_price",placeholder:"請輸入原價","onUpdate:modelValue":e[6]||(e[6]=t=>n.tempProduct.origin_price=t)},null,512),[[s.nr,n.tempProduct.origin_price]])]),(0,l._)("div",va,[ba,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"price",placeholder:"請輸入售價","onUpdate:modelValue":e[7]||(e[7]=t=>n.tempProduct.price=t)},null,512),[[s.nr,n.tempProduct.price]])])]),wa,(0,l._)("div",fa,[ya,(0,l.wy)((0,l._)("textarea",{type:"text",class:"form-control",id:"description",placeholder:"請輸入產品描述","onUpdate:modelValue":e[8]||(e[8]=t=>n.tempProduct.description=t)},null,512),[[s.nr,n.tempProduct.description]])]),(0,l._)("div",ka,[Ca,(0,l.wy)((0,l._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入產品說明內容","onUpdate:modelValue":e[9]||(e[9]=t=>n.tempProduct.content=t)},null,512),[[s.nr,n.tempProduct.content]])]),(0,l._)("div",Pa,[(0,l._)("div",Da,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,id:"is_enabled","onUpdate:modelValue":e[10]||(e[10]=t=>n.tempProduct.is_enabled=t)},null,512),[[s.e8,n.tempProduct.is_enabled]]),xa])])])])]),(0,l._)("div",Aa,[Ua,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:e[11]||(e[11]=e=>t.$emit("update-product",n.tempProduct))},"確認")])])])],512)}var La=a(7972),Ia=a.n(La),Wa={methods:{showModal(){this.modal.show()},hideModal(){this.modal.hide()}},mounted(){this.modal=new(Ia())(this.$refs.modal)}},Ha={name:"ProductModal",props:{product:{type:Object,default(){return{}}}},watch:{product(){this.tempProduct=this.product,this.tempProduct.images||(this.tempProduct.images=[])}},data(){return{modal:{},tempProduct:{}}},methods:{uploadFile(){const t=this.$refs.fileInput.files[0],e=new FormData;e.append("file-to-upload",t);const a="https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/upload",s=this.$refs.fileInput.id;this.$http.post(a,e).then((t=>{t.data.success?(this.tempProduct.imageUrl=t.data.imageUrl,document.getElementById(s).value=""):t.data.success||this.$httpMsgState(t,"圖片上傳")})).catch((t=>{console.log(t)}))}},mixins:[Wa]};const Oa=(0,bt.Z)(Ha,[["render",Ma]]);var Sa=Oa;const $a={class:"modal fade",id:"delModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},ja={class:"modal-dialog",role:"document"},za={class:"modal-content border-0"},Ba={class:"modal-header bg-danger text-white"},Ya={class:"modal-title"},qa=(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ta={class:"modal-body"},Ea=(0,l.Uk)(" 是否刪除 "),Va={class:"text-danger"},Na=(0,l.Uk)(" (刪除後將無法恢復)。 "),Ja={class:"modal-footer"},Ka=(0,l._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消 ",-1);function Za(t,e,a,s,o,n){return(0,l.wg)(),(0,l.iD)("div",$a,[(0,l._)("div",ja,[(0,l._)("div",za,[(0,l._)("div",Ba,[(0,l._)("h5",Ya,[(0,l._)("span",null,"刪除 "+(0,d.zw)(a.item.title),1)]),qa]),(0,l._)("div",Ta,[Ea,(0,l._)("strong",Va,(0,d.zw)(a.item.title),1),Na]),(0,l._)("div",Ja,[Ka,(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:e[0]||(e[0]=e=>t.$emit("delete-item"))},"確認刪除 ")])])])],512)}var Fa={name:"DeleteModal",props:{item:{}},data(){return{modal:""}},mixins:[Wa]};const Qa=(0,bt.Z)(Fa,[["render",Za]]);var Ra=Qa;const Xa={"aria-label":"Page navigation example"},Ga={class:"pagination justify-content-center"},ts={class:"page-item"},es=(0,l._)("span",{"aria-hidden":"true"},"«",-1),as=[es],ss=["onClick"],os={class:"page-item"},ns=(0,l._)("span",{"aria-hidden":"true"},"»",-1),is=[ns];function ls(t,e,a,o,n,i){return(0,l.wg)(),(0,l.iD)("nav",Xa,[(0,l._)("ul",Ga,[(0,l._)("li",ts,[(0,l._)("a",{class:(0,d.C_)(["page-link",{disabled:this.nowPage<=1}]),href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,s.iM)(((...t)=>i.previousBtn&&i.previousBtn(...t)),["prevent"]))},as,2)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.pages.total_pages,(t=>((0,l.wg)(),(0,l.iD)("li",{class:(0,d.C_)(["page-item",{active:t===a.pages.current_page}]),key:t},[(0,l._)("a",{class:"page-link",href:"#",onClick:(0,s.iM)((e=>i.updatePage(t)),["prevent"])},(0,d.zw)(t),9,ss)],2)))),128)),(0,l._)("li",os,[(0,l._)("a",{class:(0,d.C_)(["page-link",{disabled:this.nowPage===a.pages.total_pages}]),href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,s.iM)(((...t)=>i.nextBtn&&i.nextBtn(...t)),["prevent"]))},is,2)])])])}var rs={name:"Pagination-view",props:["pages"],data(){return{nowPage:1}},methods:{updatePage(t){this.$emit("emit-pages",t),this.nowPage=t},previousBtn(){if(1===this.nowPage)return this.nowPage;this.nowPage=this.nowPage-1,this.updatePage(this.nowPage)},nextBtn(){if(this.nowPage===this.nowPage-1)return this.nowPage;this.nowPage=this.nowPage+1,this.updatePage(this.nowPage)}}};const ds=(0,bt.Z)(rs,[["render",ls]]);var cs=ds,us={name:"Products-view",data(){return{products:[],pagination:{},tempProduct:{},isNew:!1,isLoading:!1}},inject:["emitter"],components:{ProductModal:Sa,DeleteModal:Ra,Pagination:cs},methods:{getProducts(t=1){const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/products?page=${t}`;this.isLoading=!0,this.$http.get(e).then((t=>{this.isLoading=!1,t.data.success&&(this.products=t.data.products,this.pagination=t.data.pagination,console.log(t.data))}))},openProductModal(t,e){this.tempProduct=t?{}:{...e},this.isNew=t;const a=this.$refs.productModal;a.showModal(),this.isLoading=!1},updateProduct(t){this.tempProduct=t;let e="https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/product",a="post";this.isLoading=!0,this.isNew||(e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/product/${t.id}`,a="put",this.isLoading=!0);const s=this.$refs.productModal;this.$http[a](e,{data:this.tempProduct}).then((t=>{s.hideModal(),this.getProducts(),this.$httpMsgState(t,"更新產品")})),this.isLoading=!1},deleteProductModal(t){this.tempProduct={...t};const e=this.$refs.deleteModal;e.showModal()},deleteProduct(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/product/${this.tempProduct.id}`;this.$http.delete(t).then((t=>{const e=this.$refs.deleteModal;e.hideModal(),this.getProducts()}))}},created(){this.getProducts()}};const ps=(0,bt.Z)(us,[["render",qe]]);var ms=ps;const hs={class:"table mt-4"},gs=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{width:"120"},"購買時間"),(0,l._)("th",{width:"160"},"Email"),(0,l._)("th",{width:"160"},"購買紀錄"),(0,l._)("th",{width:"80"},"應付金額"),(0,l._)("th",{width:"80"},"是否已付款"),(0,l._)("th",{width:"100"},"編輯")])],-1),_s=["textContent"],vs={class:"list-unstyled"},bs={class:"text-right"},ws=["id","onUpdate:modelValue","onChange"],fs=["for"],ys={key:0,class:"text-success"},ks={key:1,class:"text-muted"},Cs={class:"btn-group"},Ps=["onClick"],Ds=["onClick"];function xs(t,e,a,o,n,i){const r=(0,l.up)("Loading"),c=(0,l.up)("Pagination"),u=(0,l.up)("OrderModal"),p=(0,l.up)("DeleteModal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{active:n.isLoading},null,8,["active"]),(0,l._)("table",hs,[gs,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.orders,((e,a)=>((0,l.wg)(),(0,l.iD)("tr",{key:a},[(0,l._)("td",null,(0,d.zw)(t.$filters.date(e.create_at)),1),(0,l._)("td",null,[e.user?((0,l.wg)(),(0,l.iD)("span",{key:0,textContent:(0,d.zw)(e.user.email)},null,8,_s)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l._)("ul",vs,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.products,((t,e)=>((0,l.wg)(),(0,l.iD)("li",{key:e},(0,d.zw)(t.product.title)+" 數量: "+(0,d.zw)(t.qty)+" "+(0,d.zw)(t.product.unit),1)))),128))])]),(0,l._)("td",bs,(0,d.zw)(e.total),1),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:`paidSwitch${e.id}`,"onUpdate:modelValue":t=>e.is_paid=t,onChange:t=>i.updatePaid(e)},null,40,ws),[[s.e8,e.is_paid]]),(0,l._)("label",{class:"form-check-label",for:`paidSwitch${e.id}`},[e.is_paid?((0,l.wg)(),(0,l.iD)("span",ys,"已付款")):((0,l.wg)(),(0,l.iD)("span",ks,"未付款"))],8,fs)]),(0,l._)("td",null,[(0,l._)("div",Cs,[(0,l._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>i.openModal(!1,e)},"檢視",8,Ps),(0,l._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t=>i.deleteOrderModal(e)},"刪除",8,Ds)])])])))),128))])]),(0,l.Wm)(c,{pages:n.pagination,onEmitPages:i.getOrders},null,8,["pages","onEmitPages"]),(0,l.Wm)(u,{ref:"orderModal",product:n.tempOrder,onUpdatePaid:i.updatePaid},null,8,["product","onUpdatePaid"]),(0,l.Wm)(p,{ref:"deleteModal",item:n.tempOrder,onDeleteItem:i.deleteOrder},null,8,["item","onDeleteItem"])],64)}const As={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},Us={class:"modal-dialog modal-xl",role:"document"},Ms={class:"modal-content border-0"},Ls=(0,l._)("div",{class:"modal-header bg-dark text-white"},[(0,l._)("h5",{class:"modal-title",id:"exampleModalLabel"},[(0,l._)("span",null,"訂單細節")]),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Is={class:"modal-body"},Ws={class:"row"},Hs={class:"col-md-4"},Os=(0,l._)("h3",null,"用戶資料",-1),Ss={class:"table"},$s={key:0},js=(0,l._)("th",{style:{width:"100px"}},"姓名",-1),zs=(0,l._)("th",null,"Email",-1),Bs=(0,l._)("th",null,"電話",-1),Ys=(0,l._)("th",null,"地址",-1),qs={class:"col-md-8"},Ts=(0,l._)("h3",null,"訂單細節",-1),Es={class:"table"},Vs=(0,l._)("th",{style:{width:"100px"}},"訂單編號",-1),Ns=(0,l._)("th",null,"下單時間",-1),Js=(0,l._)("th",null,"付款時間",-1),Ks={key:0},Zs={key:1},Fs=(0,l._)("th",null,"付款狀態",-1),Qs={key:0,class:"text-success"},Rs={key:1,class:"text-muted"},Xs=(0,l._)("th",null,"總金額",-1),Gs=(0,l._)("h3",null,"選購商品",-1),to={class:"table"},eo=(0,l._)("thead",null,[(0,l._)("tr")],-1),ao={class:"text-end"},so={class:"modal-footer"},oo=(0,l._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消 ",-1);function no(t,e,a,s,o,n){return(0,l.wg)(),(0,l.iD)("div",As,[(0,l._)("div",Us,[(0,l._)("div",Ms,[Ls,(0,l._)("div",Is,[(0,l._)("div",Ws,[(0,l._)("div",Hs,[Os,(0,l._)("table",Ss,[o.tempOrder.user?((0,l.wg)(),(0,l.iD)("tbody",$s,[(0,l._)("tr",null,[js,(0,l._)("td",null,(0,d.zw)(o.tempOrder.user.name),1)]),(0,l._)("tr",null,[zs,(0,l._)("td",null,(0,d.zw)(o.tempOrder.user.email),1)]),(0,l._)("tr",null,[Bs,(0,l._)("td",null,(0,d.zw)(o.tempOrder.user.tel),1)]),(0,l._)("tr",null,[Ys,(0,l._)("td",null,(0,d.zw)(o.tempOrder.user.address),1)])])):(0,l.kq)("",!0)])]),(0,l._)("div",qs,[Ts,(0,l._)("table",Es,[(0,l._)("tbody",null,[(0,l._)("tr",null,[Vs,(0,l._)("td",null,(0,d.zw)(o.tempOrder.id),1)]),(0,l._)("tr",null,[Ns,(0,l._)("td",null,(0,d.zw)(t.$filters.date(o.tempOrder.create_at)),1)]),(0,l._)("tr",null,[Js,(0,l._)("td",null,[o.tempOrder.paid_date?((0,l.wg)(),(0,l.iD)("span",Ks,(0,d.zw)(t.$filters.date(o.tempOrder.paid_date)),1)):((0,l.wg)(),(0,l.iD)("span",Zs,"時間不正確"))])]),(0,l._)("tr",null,[Fs,(0,l._)("td",null,[o.tempOrder.is_paid?((0,l.wg)(),(0,l.iD)("strong",Qs,"已付款")):((0,l.wg)(),(0,l.iD)("span",Rs,"尚未付款"))])]),(0,l._)("tr",null,[Xs,(0,l._)("td",null,(0,d.zw)(t.$filters.currency(o.tempOrder.total)),1)])])]),Gs,(0,l._)("table",to,[eo,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.tempOrder.products,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("th",null,(0,d.zw)(e.product.title),1),(0,l._)("td",null,(0,d.zw)(e.qty)+" / "+(0,d.zw)(e.product.unit),1),(0,l._)("td",ao,(0,d.zw)(t.$filters.currency(e.final_total)),1)])))),128))])])])])]),(0,l._)("div",so,[oo,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:e[0]||(e[0]=e=>t.$emit("update-order",o.tempOrder))},"確認")])])])],512)}var io={name:"OrderModal",props:{order:{type:Object,default(){return{}}}},mixins:[Wa],emits:["update-paid"],inject:["emitter"],watch:{order(){this.tempOrder=this.order,this.isPaid=this.tempOrder.is_paid}},data(){return{status:{},modal:"",tempOrder:{},isPaid:!1}}};const lo=(0,bt.Z)(io,[["render",no]]);var ro=lo,co={name:"Orders-view",data(){return{orders:{},pagination:{},tempOrder:{},isLoading:!1,isNew:!1,currentPage:1}},components:{Pagination:cs,OrderModal:ro,DeleteModal:Ra},methods:{getOrders(t=1){this.currentPage=t;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/orders?page=${t}`;this.isLoading=!0,this.$http.get(e).then((t=>{t.data.success&&(this.orders=t.data.orders,this.pagination=t.data.pagination,this.isLoading=!1)}))},openModal(t,e){this.tempOrder={...e},this.isNew=t;const a=this.$refs.orderModal;a.showModal()},deleteOrderModal(t){this.tempOrder={...t};const e=this.$refs.deleteModal;e.showModal()},updatePaid(t){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/order/${t.id}`,a={is_paid:t.is_paid};this.$http.put(e,{data:a}).then((t=>{this.isLoading=!1,this.getOrders(),this.$httpMsgState(t,"更新付款狀態")}))},deleteOrder(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/order/${this.tempOrder.id}`;this.$http.delete(t).then((t=>{const e=this.$refs.deleteModal;e.hideModal(),this.getOrders(this.currentPage)}))}},created(){this.getOrders()}};const uo=(0,bt.Z)(co,[["render",xs]]);var po=uo;const mo={class:"text-end mt-4"},ho={class:"table mt-4"},go=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"名稱"),(0,l._)("th",null,"優惠碼"),(0,l._)("th",null,"折扣百分比"),(0,l._)("th",null,"到期日"),(0,l._)("th",null,"是否啟用"),(0,l._)("th",null,"編輯")])],-1),_o={key:0,class:"text-success"},vo={key:1,class:"text-muted"},bo={class:"btn-group"},wo=["onClick"],fo=["onClick"];function yo(t,e,a,s,o,n){const i=(0,l.up)("Loading"),r=(0,l.up)("CouponModal"),c=(0,l.up)("DeleteModal"),u=(0,l.up)("Pagination");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(i,{active:o.isLoading},null,8,["active"]),(0,l._)("div",mo,[(0,l._)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=t=>n.openCouponModel(!0))}," 建立新的優惠券 ")]),(0,l._)("table",ho,[go,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.coupons,((e,a)=>((0,l.wg)(),(0,l.iD)("tr",{key:a},[(0,l._)("td",null,(0,d.zw)(e.title),1),(0,l._)("td",null,(0,d.zw)(e.code),1),(0,l._)("td",null,(0,d.zw)(e.percent)+"%",1),(0,l._)("td",null,(0,d.zw)(t.$filters.date(e.due_date)),1),(0,l._)("td",null,[1===e.is_enabled?((0,l.wg)(),(0,l.iD)("span",_o,"啟用")):((0,l.wg)(),(0,l.iD)("span",vo,"未起用"))]),(0,l._)("td",null,[(0,l._)("div",bo,[(0,l._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>n.openCouponModel(!1,e)},"編輯",8,wo),(0,l._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t=>n.deleteCouponModal(e)},"刪除",8,fo)])])])))),128))])]),(0,l.Wm)(r,{coupon:o.tempDiscount,ref:"couponModal",onUpdateCoupon:n.updateCoupon},null,8,["coupon","onUpdateCoupon"]),(0,l.Wm)(c,{item:o.tempDiscount,ref:"deleteModal",onDeleteItem:n.deleteCoupon},null,8,["item","onDeleteItem"]),(0,l.Wm)(u,{pages:o.pagination,onEmitPages:n.getCoupons},null,8,["pages","onEmitPages"])])}const ko={class:"modal fade",id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},Co={class:"modal-dialog",role:"document"},Po={class:"modal-content"},Do={class:"modal-header"},xo={class:"modal-title",id:"exampleModalLabel"},Ao=(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Uo={class:"modal-body"},Mo={class:"mb-3"},Lo=(0,l._)("label",{for:"title"},"標題",-1),Io={class:"mb-3"},Wo=(0,l._)("label",{for:"coupon_code"},"優惠碼",-1),Ho={class:"mb-3"},Oo=(0,l._)("label",{for:"due_date"},"到期日",-1),So={class:"mb-3"},$o=(0,l._)("label",{for:"price"},"折扣百分比",-1),jo={class:"mb-3"},zo={class:"form-check"},Bo=(0,l._)("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ",-1),Yo={class:"modal-footer"},qo=(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function To(t,e,a,o,n,i){return(0,l.wg)(),(0,l.iD)("div",ko,[(0,l._)("div",Co,[(0,l._)("div",Po,[(0,l._)("div",Do,[(0,l._)("h5",xo,(0,d.zw)(n.tempCoupon.title?"編輯優惠券":"新增優惠券"),1),Ao]),(0,l._)("div",Uo,[(0,l._)("div",Mo,[Lo,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":e[0]||(e[0]=t=>n.tempCoupon.title=t),placeholder:"請輸入標題"},null,512),[[s.nr,n.tempCoupon.title]])]),(0,l._)("div",Io,[Wo,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"coupon_code","onUpdate:modelValue":e[1]||(e[1]=t=>n.tempCoupon.code=t),placeholder:"請輸入優惠碼"},null,512),[[s.nr,n.tempCoupon.code]])]),(0,l._)("div",Ho,[Oo,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control",id:"due_date","onUpdate:modelValue":e[2]||(e[2]=t=>n.due_date=t)},null,512),[[s.nr,n.due_date]])]),(0,l._)("div",So,[$o,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"price","onUpdate:modelValue":e[3]||(e[3]=t=>n.tempCoupon.percent=t),placeholder:"請輸入折扣百分比"},null,512),[[s.nr,n.tempCoupon.percent,void 0,{number:!0}]])]),(0,l._)("div",jo,[(0,l._)("div",zo,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":e[4]||(e[4]=t=>n.tempCoupon.is_enabled=t),id:"is_enabled"},null,512),[[s.e8,n.tempCoupon.is_enabled]]),Bo])])]),(0,l._)("div",Yo,[qo,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=e=>t.$emit("update-coupon",n.tempCoupon))},"更新優惠券 ")])])])],512)}var Eo={name:"CouponModal",props:{coupon:{}},data(){return{tempCoupon:{},due_date:""}},emits:["update-coupon"],watch:{coupon(){this.tempCoupon=this.coupon},due_date(){this.tempCoupon.due_date=Math.floor(new Date(this.due_date)/1e3)}},mixins:[Wa]};const Vo=(0,bt.Z)(Eo,[["render",To]]);var No=Vo,Jo={name:"Discount-view",data(){return{coupons:{},tempDiscount:{title:"",is_enabled:0,percent:100,code:""},isNew:!1,isLoading:!1,pagination:{}}},components:{CouponModal:No,DeleteModal:Ra,Pagination:cs},methods:{openCouponModel(t,e){this.isNew=t,this.isNew?this.tempDiscount={due_date:(new Date).getTime()/1e3}:this.tempDiscount={...e},this.$refs.couponModal.showModal(),this.isLoading=!1},getCoupons(t=1){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupons?page=${t}`;this.$http.get(e,this.tempDiscount).then((t=>{this.coupons=t.data.coupons,this.pagination=t.data.pagination,this.isLoading=!1}))},updateCoupon(t){if(this.isNew){const e="https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupon";this.$http.post(e,{data:t}).then((t=>{this.$httpMsgState(t,"新增優惠券"),this.getCoupons(),this.$refs.couponModal.hideModal()}))}else{const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupon/${this.tempDiscount.id}`;this.$http.put(e,{data:t}).then((t=>{this.$httpMsgState(t,"更新優惠券"),this.getCoupons(),this.$refs.couponModal.hideModal()}))}},deleteCouponModal(t){this.tempDiscount={...t};const e=this.$refs.deleteModal;e.showModal()},deleteCoupon(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupon/${this.tempDiscount.id}`;this.isLoading=!0,this.$http.delete(t).then((t=>{this.$httpMsgState(t,"刪除優惠券");const e=this.$refs.deleteModal;e.hideModal(),this.getCoupons()}))}},created(){this.getCoupons()}};const Ko=(0,bt.Z)(Jo,[["render",yo]]);var Zo=Ko;const Fo={class:"position-relative"};function Qo(t,e,a,s,o,n){const i=(0,l.up)("ToastMessages"),r=(0,l.up)("SideCart"),d=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Fo,[(0,l.Wm)(i)]),(0,l.Wm)(r),(0,l.Wm)(d)],64)}var Ro="data:image/png;base64,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";const Xo=t=>((0,l.dD)("data-v-0f36db25"),t=t(),(0,l.Cn)(),t),Go={class:"smallCart"},tn={class:"container"},en={class:"cartIcon"},an=Xo((()=>(0,l._)("img",{src:Ro,alt:""},null,-1))),sn=[an],on=(0,l.Uk)(" 查看"),nn=Xo((()=>(0,l._)("br",null,null,-1))),ln=(0,l.Uk)("購物車 "),rn=[on,nn,ln],dn={key:0,class:"icon-num"},cn={key:1,class:"icon-null"},un={class:"cart-wrap"},pn={class:"cart-container"},mn={class:"cart-header"},hn=(0,l.Uk)(" 購物車 "),gn={key:0},_n={class:"cart-photo"},vn=["src"],bn={class:"cart-text"},wn={class:"num"},fn=["disabled","onClick"],yn={key:1,class:"cart-footer"},kn=Xo((()=>(0,l._)("h4",null,"小計",-1))),Cn={key:2,class:"cart-checkout"},Pn=(0,l.Uk)(" 結帳 ");function Dn(t,e,a,o,n,i){const r=(0,l.up)("font-awesome-icon"),c=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",Go,[(0,l._)("div",tn,[(0,l._)("div",en,[(0,l._)("button",{class:"cartIcon__img",onClick:e[0]||(e[0]=(...t)=>i.sideCartToggle&&i.sideCartToggle(...t))},sn),(0,l._)("button",{class:"cartIcon__text",onClick:e[1]||(e[1]=(...t)=>i.sideCartToggle&&i.sideCartToggle(...t))},rn),0!==n.cartLen?((0,l.wg)(),(0,l.iD)("div",dn,[(0,l._)("p",null,(0,d.zw)(n.cartLen),1)])):((0,l.wg)(),(0,l.iD)("div",cn,[(0,l._)("p",null,(0,d.zw)(n.cartLen),1)]))]),(0,l.wy)((0,l.Wm)(s.uT,{name:"sideCart"},{default:(0,l.w5)((()=>[(0,l._)("div",un,[(0,l._)("div",pn,[(0,l._)("div",mn,[(0,l._)("h2",null,[(0,l.Wm)(r,{icon:["fas","cart-shopping"]}),hn]),(0,l._)("a",{href:"#",onClick:e[2]||(e[2]=(0,s.iM)(((...t)=>i.sideCartToggle&&i.sideCartToggle(...t)),["prevent"]))},[(0,l.Wm)(r,{icon:["fas","xmark"]})])]),0===n.cartLen?((0,l.wg)(),(0,l.iD)("h3",gn,"購物車是空的喲!")):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.cart.carts,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"cart-item",key:e.id},[(0,l._)("div",_n,[(0,l._)("img",{src:e.product.imageUrl,alt:""},null,8,vn)]),(0,l._)("div",bn,[(0,l._)("h3",null,(0,d.zw)(e.product.title),1),(0,l._)("div",wn,[(0,l._)("h4",null,(0,d.zw)(e.qty)+" 件",1),(0,l._)("h4",null,"NT "+(0,d.zw)(t.$filters.currency(e.total))+" 元",1)])]),(0,l._)("button",{type:"button",class:"cart-del",disabled:this.status.loadingItem===e.id,onClick:t=>i.removeCartItem(e.id)},[this.status.loadingItem===e.id?((0,l.wg)(),(0,l.j4)(r,{key:0,icon:["fas","spinner"]})):((0,l.wg)(),(0,l.j4)(r,{key:1,icon:["fas","trash-can"]}))],8,fn)])))),128)),0!==n.cartLen?((0,l.wg)(),(0,l.iD)("div",yn,[kn,(0,l._)("h5",null,"$ "+(0,d.zw)(t.$filters.currency(n.cart.total)),1)])):(0,l.kq)("",!0),0!==n.cartLen?((0,l.wg)(),(0,l.iD)("div",Cn,[(0,l.Wm)(c,{to:"/cart/cartPage"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{icon:["fas","cart-shopping"]}),Pn])),_:1})])):(0,l.kq)("",!0)])])])),_:1},512),[[s.F8,n.sideCart]])])])}var xn={name:"SideCart",data(){return{cartLen:0,cart:{},products:[],product:{},sideCart:"",status:{loadingItem:""}}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.$http.get(t).then((t=>{this.cart=t.data.data,this.cartLen=t.data.data.carts.length}))},removeCartItem(t){this.status.loadingItem=t;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/cart/${t}`;this.$http.delete(e).then((t=>{this.$httpMsgState(t,"產品移除"),this.status.loadingItem="",this.getCart()}))},sideCartToggle(){this.sideCart=!this.sideCart}},created(){this.getCart(),_t.on("updateCart",(t=>{this.cart=t}))}};const An=(0,bt.Z)(xn,[["render",Dn],["__scopeId","data-v-0f36db25"]]);var Un=An,Mn={name:"ProductBoard",components:{ToastMessages:xe,SideCart:Un},provide(){return{emitter:_t}},created(){}};const Ln=(0,bt.Z)(Mn,[["render",Qo]]);var In=Ln;const Wn=t=>((0,l.dD)("data-v-0070897f"),t=t(),(0,l.Cn)(),t),Hn={class:"wrap"},On=Wn((()=>(0,l._)("div",{class:"banner"},[(0,l._)("div",{class:"banner__text"},[(0,l._)("h2",null,[(0,l.Uk)("讓居家的時光"),(0,l._)("br"),(0,l.Uk)("從休憩昇華成享受")])])],-1))),Sn={class:"container"},$n={class:"showProduct"},jn={class:"showProduct__card--img"},zn=["onClick"],Bn=["src"],Yn={class:"showProduct__info"},qn={class:"infoBox"},Tn={class:"showProduct__info--content"},En={class:"showProduct__info--title"},Vn={class:"showProduct__info--price priceBox"},Nn=Wn((()=>(0,l._)("h6",null,"價格",-1))),Jn={class:"showProduct__footer"},Kn=["onClick"],Zn=(0,l.Uk)(" 查看更多 "),Fn=["onClick"],Qn={key:1,class:"bi bi-cart2"},Rn=(0,l.Uk)(" 加到購物車 ");function Xn(t,e,a,o,n,i){const r=(0,l.up)("font-awesome-icon");return(0,l.wg)(),(0,l.iD)("div",Hn,[On,(0,l._)("div",Sn,[(0,l._)("div",$n,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.products,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id,class:"showProduct__card"},[(0,l._)("div",jn,[(0,l._)("a",{href:"#",onClick:(0,s.iM)((e=>i.viewMore(t.id)),["prevent"])},[(0,l._)("img",{src:t.imageUrl,alt:""},null,8,Bn)],8,zn)]),(0,l._)("div",Yn,[(0,l._)("div",qn,[(0,l._)("p",Tn,(0,d.zw)(t.category),1),(0,l._)("p",En,(0,d.zw)(t.title),1)]),(0,l._)("div",Vn,[Nn,(0,l._)("p",null,"NT: "+(0,d.zw)(t.origin_price)+" 元",1)])]),(0,l._)("div",Jn,[(0,l._)("button",{type:"button",class:"viewMore btn btn-outline-secondary",onClick:e=>i.viewMore(t.id)},[(0,l.Wm)(r,{icon:["fas","search"]}),Zn],8,Kn),(0,l._)("button",{type:"button",class:"addCart btn btn-outline-secondary",onClick:e=>i.addToCart(t.id)},[this.status.loadingItem===t.id?((0,l.wg)(),(0,l.j4)(r,{key:0,class:"spinner-color",icon:["fas","spinner"]})):((0,l.wg)(),(0,l.iD)("i",Qn)),Rn],8,Fn)])])))),128))])])])}var Gn={name:"ProductItem",data(){return{products:[],status:{loadingItem:""}}},inject:["emitter"],methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,this.isLoading=!1}))},viewMore(t){this.$router.push(`/products/product/${t}`)},addToCart(t){const e="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.status.loadingItem=t;const a={product_id:t,qty:1};this.$http.post(e,{data:a}).then((t=>{this.$httpMsgState(t,"加入購物車"),this.status.loadingItem=""}))}},created(){this.getProducts()}};const ti=(0,bt.Z)(Gn,[["render",Xn],["__scopeId","data-v-0070897f"]]);var ei=ti;const ai=t=>((0,l.dD)("data-v-72b13e71"),t=t(),(0,l.Cn)(),t),si={class:"wrap"},oi={class:"container"},ni={class:"productItem"},ii={class:"product-img"},li=["src"],ri={class:"product-info"},di=ai((()=>(0,l._)("br",null,null,-1))),ci=ai((()=>(0,l._)("br",null,null,-1))),ui={key:0,class:"product-info__btn-place"};function pi(t,e,a,s,o,n){const i=(0,l.up)("Loading");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i,{active:o.isLoading},null,8,["active"]),(0,l._)("div",si,[(0,l._)("div",oi,[(0,l._)("div",ni,[(0,l._)("div",ii,[(0,l._)("img",{src:o.product.imageUrl,alt:""},null,8,li)]),(0,l._)("div",ri,[(0,l._)("h2",null,(0,d.zw)(o.product.category),1),(0,l._)("p",null,(0,d.zw)(o.product.title),1),di,(0,l._)("h3",null,(0,d.zw)(o.product.description),1),(0,l._)("span",null,(0,d.zw)(o.product.content),1),ci,(0,l._)("h4",null,"售價 : "+(0,d.zw)(o.product.origin_price)+" 元",1),o.product.price?((0,l.wg)(),(0,l.iD)("div",ui,[(0,l._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[0]||(e[0]=(...t)=>n.returnProducts&&n.returnProducts(...t))}," 返回商品頁 "),(0,l._)("button",{type:"button",class:"btn btn-outline-danger",onClick:e[1]||(e[1]=t=>n.addToCart(o.product.id))}," 加到購物車 ")])):(0,l.kq)("",!0)])])])])],64)}var mi={name:"ProductItem",data(){return{product:{},id:"",isLoading:!1}},provide(){return{emitter:_t}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.product=t.data.product,this.isLoading=!1)})).catch((t=>{console.log(t)}))},returnProducts(){this.$router.push("/products/productsIndex")},addToCart(t,e=1){const a="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.isLoading=!0;const s={product_id:t,qty:e};this.$http.post(a,{data:s}).then((t=>{this.$httpMsgState(t,"加入購物車"),this.isLoading=!1}))}},created(){this.id=this.$route.params.productId,this.getProduct()}};const hi=(0,bt.Z)(mi,[["render",pi],["__scopeId","data-v-72b13e71"]]);var gi=hi;function _i(t,e,a,s,o,n){const i=(0,l.up)("UserHeader"),r=(0,l.up)("ToastMessages"),d=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(i),(0,l.Wm)(r),(0,l.Wm)(d)],64)}var vi={name:"UserCart",data(){return{products:[],isLoading:!1}},components:{UserHeader:ft,ToastMessages:xe},provide(){return{emitter:_t}},created(){}};const bi=(0,bt.Z)(vi,[["render",_i]]);var wi=bi;const fi=t=>((0,l.dD)("data-v-82bc5d9c"),t=t(),(0,l.Cn)(),t),yi={class:"wrap"},ki={class:"container"},Ci=fi((()=>(0,l._)("h2",null,"購物車",-1))),Pi={class:"stepper"},Di=fi((()=>(0,l._)("li",null,[(0,l.Uk)("Step 1 "),(0,l._)("br"),(0,l.Uk)("確認購物車")],-1))),xi={class:"arrowIconRight"},Ai={class:"arrowIconDown"},Ui=fi((()=>(0,l._)("li",null,[(0,l.Uk)("Step 2 "),(0,l._)("br"),(0,l.Uk)("填寫資料")],-1))),Mi={class:"arrowIconRight"},Li={class:"arrowIconDown"},Ii=fi((()=>(0,l._)("li",null,[(0,l.Uk)("Step 3 "),(0,l._)("br"),(0,l.Uk)("完成訂單")],-1))),Wi={class:"cartBody"},Hi=["onClick"],Oi=fi((()=>(0,l._)("i",{class:"bi bi-x"},null,-1))),Si=[Oi],$i={class:"product-img"},ji=["src"],zi={class:"product-title"},Bi={class:"product-qty"},Yi=["onClick"],qi=["onUpdate:modelValue","onChange"],Ti=["onClick"],Ei={class:"product-price"},Vi={key:0,class:"text-success"},Ni={class:"input-group mb-3 input-group-sm"},Ji={class:"input-group-append"},Ki={class:"total-price"},Zi={key:0,class:"discount"},Fi={class:"linkBtn"},Qi=(0,l.Uk)("繼續購物"),Ri=(0,l.Uk)("送出訂單");function Xi(t,e,a,o,n,i){const r=(0,l.up)("Loading"),c=(0,l.up)("font-awesome-icon"),u=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{active:n.isLoading},null,8,["active"]),(0,l._)("div",yi,[(0,l._)("div",ki,[Ci,(0,l._)("div",Pi,[(0,l._)("ul",null,[Di,(0,l._)("div",xi,[(0,l.Wm)(c,{icon:["fas","arrow-right"]})]),(0,l._)("div",Ai,[(0,l.Wm)(c,{icon:["fas","arrow-down"]})]),Ui,(0,l._)("div",Mi,[(0,l.Wm)(c,{icon:["fas","arrow-right"]})]),(0,l._)("div",Li,[(0,l.Wm)(c,{icon:["fas","arrow-down"]})]),Ii])]),(0,l._)("div",Wi,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.cart.carts,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"product-table",key:e.id},[(0,l._)("button",{type:"button",class:"btn btn-outline-danger btn-sm cancel-btn",onClick:t=>i.removeCartItem(e.id)},Si,8,Hi),(0,l._)("div",$i,[(0,l._)("img",{src:e.product.imageUrl,alt:""},null,8,ji)]),(0,l._)("div",zi,[(0,l._)("h3",null,(0,d.zw)(e.product.title),1)]),(0,l._)("div",Bi,[(0,l._)("button",{class:"btn",onClick:t=>i.minus(e)},[(0,l.Wm)(c,{icon:["fas","minus"]})],8,Yi),(0,l.wy)((0,l._)("input",{type:"number",min:"1","onUpdate:modelValue":t=>e.qty=t,onChange:t=>i.updateCartItem(e)},null,40,qi),[[s.nr,e.qty]]),(0,l._)("button",{class:"btn",onClick:t=>i.plus(e)},[(0,l.Wm)(c,{icon:["fas","plus"]})],8,Ti)]),(0,l._)("div",Ei,[(0,l._)("h4",null,"$"+(0,d.zw)(e.product.price)+"元 / 件",1),e.coupon?((0,l.wg)(),(0,l.iD)("small",Vi,"折扣價：")):(0,l.kq)("",!0),(0,l.Uk)(" 小計: $"+(0,d.zw)(t.$filters.currency(e.final_total))+"元 ",1)])])))),128)),(0,l._)("div",Ni,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>n.coupon_code=t),placeholder:"請輸入優惠碼"},null,512),[[s.nr,n.coupon_code]]),(0,l._)("div",Ji,[(0,l._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=(...t)=>i.addCouponCode&&i.addCouponCode(...t))}," 套用優惠碼 ")])]),(0,l._)("div",Ki,[n.cart.final_total!==n.cart.total?((0,l.wg)(),(0,l.iD)("div",Zi,[(0,l._)("h4",null,"總計: $"+(0,d.zw)(t.$filters.currency(n.cart.total))+"元",1),(0,l._)("strong",null," 折扣後: $"+(0,d.zw)(t.$filters.currency(n.cart.final.total))+"元 ",1)])):(0,l.kq)("",!0),(0,l._)("h4",null,"總計: $"+(0,d.zw)(t.$filters.currency(n.cart.total))+"元",1)])]),(0,l._)("div",Fi,[(0,l.Wm)(u,{class:"btn linkBtn__returnProduct",to:"/products/productsIndex"},{default:(0,l.w5)((()=>[Qi])),_:1}),(0,l.Wm)(u,{class:"btn linkBtn__goCheck",to:"/cart/userCheck"},{default:(0,l.w5)((()=>[Ri])),_:1})])])])],64)}var Gi={name:"CartPage",data(){return{isLoading:!1,cart:{},status:{loadingItem:""},coupon_code:""}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.isLoading=!0,this.$http.get(t).then((t=>{0!==t.data.data.carts.length?(console.log("getCart:",t.data.data),this.cart=t.data.data,this.isLoading=!1):this.$router.push("/products/productsIndex")}))},removeCartItem(t){this.status.loadingItem=t;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/cart/${t}`;this.isLoading=!0,this.$http.delete(e).then((t=>{this.$httpMsgState(t,"產品移除"),this.isLoading=!1,this.status.loadingItem="",this.getCart()}))},minus(t){t.qty-=1,this.updateCartItem(t)},plus(t){t.qty+=1,this.updateCartItem(t)},updateCartItem(t){const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/cart/${t.id}`;this.isLoading=!0,this.status.loadingItem=t.id;const a={product_id:t.product_id,qty:t.qty};this.$http.put(e,{data:a}).then((t=>{this.status.loadingItem="",this.getCart()}))},addCouponCode(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/coupon",e={code:this.coupon_code};this.isLoading=!0,this.$http.post(t,{data:e}).then((t=>{this.$httpMsgState(t,"加入優惠券"),this.getCart(),this.isLoading=!1}))}},created(){this.getCart()}};const tl=(0,bt.Z)(Gi,[["render",Xi],["__scopeId","data-v-82bc5d9c"]]);var el=tl;const al=t=>((0,l.dD)("data-v-6fbefde2"),t=t(),(0,l.Cn)(),t),sl={class:"wrap"},ol={class:"container"},nl=al((()=>(0,l._)("h2",null,"資料確認",-1))),il={class:"stepper"},ll=al((()=>(0,l._)("li",null,[(0,l.Uk)("Step 1 "),(0,l._)("br"),(0,l.Uk)("確認購物車")],-1))),rl={class:"arrowIconRight"},dl={class:"arrowIconDown"},cl=al((()=>(0,l._)("li",null,[(0,l.Uk)("Step 2 "),(0,l._)("br"),(0,l.Uk)("填寫資料")],-1))),ul={class:"arrowIconRight"},pl={class:"arrowIconDown"},ml=al((()=>(0,l._)("li",null,[(0,l.Uk)("Step 3 "),(0,l._)("br"),(0,l.Uk)("完成訂單")],-1))),hl={class:"mt-5 row justify-content-center"},gl={class:"mb-3 w-100"},_l=al((()=>(0,l._)("label",{for:"email",class:"form-label text-control"},"Email:",-1))),vl={class:"mb-3"},bl=al((()=>(0,l._)("label",{for:"name",class:"form-label text-control"},"收件人姓名:",-1))),wl={class:"mb-3"},fl=al((()=>(0,l._)("label",{for:"tel",class:"form-label text-control"},"收件人電話:",-1))),yl={class:"mb-3"},kl=al((()=>(0,l._)("label",{for:"address",class:"form-label text-control"},"收件人地址:",-1))),Cl={class:"mb-3"},Pl=al((()=>(0,l._)("label",{for:"message",class:"form-label text-control"},"留言",-1))),Dl={class:"text-end"},xl=(0,l.Uk)("返回購物車"),Al=al((()=>(0,l._)("button",{class:"btn btn-danger"},"送出訂單",-1)));function Ul(t,e,a,o,n,i){const r=(0,l.up)("Loading"),c=(0,l.up)("font-awesome-icon"),u=(0,l.up)("Field"),p=(0,l.up)("ErrorMessage"),m=(0,l.up)("router-link"),h=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{active:n.isLoading},null,8,["active"]),(0,l._)("div",sl,[(0,l._)("div",ol,[nl,(0,l._)("div",il,[(0,l._)("ul",null,[ll,(0,l._)("div",rl,[(0,l.Wm)(c,{icon:["fas","arrow-right"]})]),(0,l._)("div",dl,[(0,l.Wm)(c,{icon:["fas","arrow-down"]})]),cl,(0,l._)("div",ul,[(0,l.Wm)(c,{icon:["fas","arrow-right"]})]),(0,l._)("div",pl,[(0,l.Wm)(c,{icon:["fas","arrow-down"]})]),ml])]),(0,l._)("div",hl,[(0,l.Wm)(h,{class:"col-md-6",onSubmit:i.createOrder},{default:(0,l.w5)((({errors:t})=>[(0,l._)("div",gl,[_l,(0,l.Wm)(u,{id:"email",name:"email",type:"email",placeholder:"請輸入 Email",class:(0,d.C_)(["form-control",{"is-invalid":t["email"]}]),rules:"email|required",modelValue:n.form.user.email,"onUpdate:modelValue":e[0]||(e[0]=t=>n.form.user.email=t)},null,8,["class","modelValue"]),(0,l.Wm)(p,{name:"",class:"invalid-feedback"})]),(0,l._)("div",vl,[bl,(0,l.Wm)(u,{id:"name",name:"姓名",type:"text",placeholder:"請輸入 姓名",class:(0,d.C_)(["form-control",{"is-invalid":t["姓名"]}]),rules:"required",modelValue:n.form.user.name,"onUpdate:modelValue":e[1]||(e[1]=t=>n.form.user.name=t)},null,8,["class","modelValue"]),(0,l.Wm)(p,{name:"姓名",class:"invalid-feedback"})]),(0,l._)("div",wl,[fl,(0,l.Wm)(u,{id:"tel",name:"電話",type:"tel",placeholder:"請輸入 電話",class:(0,d.C_)(["form-control",{"is-invalid":t["電話"]}]),rules:"required",modelValue:n.form.user.tel,"onUpdate:modelValue":e[2]||(e[2]=t=>n.form.user.tel=t)},null,8,["class","modelValue"]),(0,l.Wm)(p,{name:"電話",class:"invalid-feedback"})]),(0,l._)("div",yl,[kl,(0,l.Wm)(u,{id:"address",name:"地址",type:"text",placeholder:"請輸入 地址",class:(0,d.C_)(["form-control",{"is-invalid":t["地址"]}]),rules:"required",modelValue:n.form.user.address,"onUpdate:modelValue":e[3]||(e[3]=t=>n.form.user.address=t)},null,8,["class","modelValue"]),(0,l.Wm)(p,{name:"地址",class:"invalid-feedback"})]),(0,l._)("div",Cl,[Pl,(0,l.wy)((0,l._)("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[4]||(e[4]=t=>n.form.message=t)},null,512),[[s.nr,n.form.message]])]),(0,l._)("div",Dl,[(0,l.Wm)(m,{class:"btn",to:"/cart/cartPage"},{default:(0,l.w5)((()=>[xl])),_:1}),Al])])),_:1},8,["onSubmit"])])])])],64)}var Ml={name:"UserCheck",data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},isLoading:!1}},methods:{createOrder(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/order";this.isLoading=!1;const e=this.form;this.$http.post(t,{data:e}).then((t=>{this.isLoading=!1;const e=t.data.orderId;this.$router.push(`./order/${e}`)}))}}};const Ll=(0,bt.Z)(Ml,[["render",Ul],["__scopeId","data-v-6fbefde2"]]);var Il=Ll;const Wl=t=>((0,l.dD)("data-v-49dba178"),t=t(),(0,l.Cn)(),t),Hl={class:"wrap"},Ol={class:"stepper"},Sl=Wl((()=>(0,l._)("ul",null,[(0,l._)("li",null,[(0,l.Uk)("Step 1 "),(0,l._)("br"),(0,l.Uk)("確認購物車")]),(0,l._)("li",null,[(0,l.Uk)("Step 2 "),(0,l._)("br"),(0,l.Uk)("填寫資料")]),(0,l._)("li",null,[(0,l.Uk)("Step 3 "),(0,l._)("br"),(0,l.Uk)("完成訂單")])],-1))),$l={class:"my-5 row justify-content-center"},jl={class:"table align-middle"},zl=Wl((()=>(0,l._)("thead",null,[(0,l._)("th",null,"品名"),(0,l._)("th",null,"數量"),(0,l._)("th",null,"單價")],-1))),Bl={class:"text-end"},Yl=Wl((()=>(0,l._)("td",{colspan:"2",class:"text-end"},"總計",-1))),ql={class:"text-end"},Tl={class:"table"},El=Wl((()=>(0,l._)("th",{width:"100"},"Email",-1))),Vl=Wl((()=>(0,l._)("th",null,"姓名",-1))),Nl=Wl((()=>(0,l._)("th",null,"收件人電話",-1))),Jl=Wl((()=>(0,l._)("th",null,"收件人地址",-1))),Kl=Wl((()=>(0,l._)("th",null,"付款狀態",-1))),Zl={key:0},Fl={key:1,class:"text-success"},Ql={key:0,class:"text-end"},Rl=Wl((()=>(0,l._)("button",{class:"btn btn-danger"},"確認付款去",-1))),Xl=[Rl];function Gl(t,e,a,o,n,i){const r=(0,l.up)("Loading");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{active:n.isLoading},null,8,["active"]),(0,l._)("div",Hl,[(0,l._)("div",Ol,[Sl,(0,l._)("div",$l,[(0,l._)("form",{class:"col-md-6",onSubmit:e[0]||(e[0]=(0,s.iM)(((...t)=>i.payOrder&&i.payOrder(...t)),["prevent"]))},[(0,l._)("table",jl,[zl,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.order.products,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",null,(0,d.zw)(t.product.title),1),(0,l._)("td",null,(0,d.zw)(t.qty)+" / 個",1),(0,l._)("td",Bl,(0,d.zw)(t.final_total),1)])))),128))]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[Yl,(0,l._)("td",ql,(0,d.zw)(n.order.total),1)])])]),(0,l._)("table",Tl,[(0,l._)("tbody",null,[(0,l._)("tr",null,[El,(0,l._)("td",null,(0,d.zw)(n.order.user.email),1)]),(0,l._)("tr",null,[Vl,(0,l._)("td",null,(0,d.zw)(n.order.user.name),1)]),(0,l._)("tr",null,[Nl,(0,l._)("td",null,(0,d.zw)(n.order.user.tel),1)]),(0,l._)("tr",null,[Jl,(0,l._)("td",null,(0,d.zw)(n.order.user.address),1)]),(0,l._)("tr",null,[Kl,(0,l._)("td",null,[n.order.is_paid?((0,l.wg)(),(0,l.iD)("span",Fl,"付款完成")):((0,l.wg)(),(0,l.iD)("span",Zl,"尚未付款"))])])])]),!1===n.order.is_paid?((0,l.wg)(),(0,l.iD)("div",Ql,Xl)):(0,l.kq)("",!0)],32)])])])],64)}var tr={name:"FinalOrder",data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/order/${this.orderId}`;this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order)}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{console.log("pay",t),t.data.success&&(this.getOrder(),this.isLoading=!1)}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}};const er=(0,bt.Z)(tr,[["render",Gl],["__scopeId","data-v-49dba178"]]);var ar=er;const sr=t=>((0,l.dD)("data-v-b1dcaffc"),t=t(),(0,l.Cn)(),t),or={class:"wrap"},nr=sr((()=>(0,l._)("div",{class:"banner"},[(0,l._)("div",{class:"banner__text"},[(0,l._)("h2",null,[(0,l.Uk)("讓居家的時光"),(0,l._)("br"),(0,l.Uk)("從休憩昇華成享受")])])],-1))),ir={class:"container"},lr={class:"showProduct"},rr={class:"showProduct__card--img"},dr=["onClick"],cr=["src"],ur={class:"showProduct__info"},pr={class:"infoBox"},mr={class:"showProduct__info--content"},hr={class:"showProduct__info--title"},gr={class:"showProduct__info--price priceBox"},_r=sr((()=>(0,l._)("h6",null,"價格",-1))),vr={class:"showProduct__footer"},br={class:"showProduct__footer--btn"},wr=["onClick"],fr=(0,l.Uk)(" 查看更多 "),yr=["onClick"],kr={key:1,class:"bi bi-cart2"},Cr=(0,l.Uk)(" 加到購物車 ");function Pr(t,e,a,o,n,i){const r=(0,l.up)("SideCart"),c=(0,l.up)("font-awesome-icon");return(0,l.wg)(),(0,l.iD)("div",or,[nr,(0,l.Wm)(r),(0,l._)("div",ir,[(0,l._)("div",lr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filterProducts,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id,class:"showProduct__card"},[(0,l._)("div",rr,[(0,l._)("a",{href:"#",onClick:(0,s.iM)((e=>i.viewMore(t.id)),["prevent"])},[(0,l._)("img",{src:t.imageUrl,alt:""},null,8,cr)],8,dr)]),(0,l._)("div",ur,[(0,l._)("div",pr,[(0,l._)("p",mr,(0,d.zw)(t.category),1),(0,l._)("p",hr,(0,d.zw)(t.title),1)]),(0,l._)("div",gr,[_r,(0,l._)("p",null,"NT: "+(0,d.zw)(t.origin_price)+" 元",1)])]),(0,l._)("div",vr,[(0,l._)("div",br,[(0,l._)("button",{type:"button",class:"viewMore btn btn-outline-secondary",onClick:e=>i.viewMore(t.id)},[(0,l.Wm)(c,{icon:["fas","search"]}),fr],8,wr),(0,l._)("button",{type:"button",class:"add-cart btn btn-outline-secondary",onClick:e=>i.addToCart(t.id)},[this.status.loadingItem===t.id?((0,l.wg)(),(0,l.j4)(c,{key:0,class:"spinner-color",icon:["fas","spinner"]})):((0,l.wg)(),(0,l.iD)("i",kr)),Cr],8,yr)])])])))),128))])])])}var Dr={name:"BrandsView",data(){return{allProducts:[],products:[],brand:{},productCategory:"",filterProducts:[],status:{loadingItem:""}}},components:{SideCart:Un},inject:["$httpMessageState","emitter"],watch:{productCategory(){this.filterBrands()}},methods:{getProducts(t=1){const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/products?page=${t}`;this.isLoading=!0,this.$http.get(e).then((t=>{t.data.success&&(this.products=t.data.products,this.filterProducts=this.products,this.productCategory=this.$route.query.productCategory,console.log(this.productCategory),this.isLoading=!1)}))},filterBrands(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.allProducts=t.data.products,""!==this.productCategory?(this.filterProducts=this.allProducts.filter((t=>t.category===this.productCategory)),console.log(this.filterProducts)):this.filterProducts=this.products,this.isLoading=!1}))},viewMore(t){this.$router.push(`/products/product/${t}`)},addToCart(t,e=1){const a="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.isLoading=!0;const s={product_id:t,qty:e};this.$http.post(a,{data:s}).then((t=>{t.data.success||(this.$httpMsgState(t,"加入購物車"),this.isLoading=!1),this.$httpMsgState(t,"加入購物車"),this.emitter.emit("update-cart")}))}},created(){this.getProducts(),this.filterBrands()}};const xr=(0,bt.Z)(Dr,[["render",Pr],["__scopeId","data-v-b1dcaffc"]]);var Ar=xr;const Ur=[{path:"/",name:"home",component:Ht},{path:"/login",name:"Login",component:Ft},{path:"/dashboard",component:Me,children:[{path:"products",component:ms},{path:"orders",component:po},{path:"discount",component:Zo}]},{path:"/brands",component:Ar},{path:"/products",component:In,children:[{path:"productsIndex",component:ei},{path:"product/:productId",component:gi}]},{path:"/cart",component:wi,children:[{path:"cartPage",component:el},{path:"userCheck",component:Il},{path:"order/:orderId",component:ar}]}],Mr=(0,Pt.p7)({history:(0,Pt.r5)(),routes:Ur,linkActiveClass:"active"});var Lr=Mr,Ir=a(6216);function Wr(t){const e=parseInt(t,10);return`${e.toFixed(0).replace(/./g,((t,e,a)=>e&&"."!==t&&(a.length-e)%3===0?`, ${t}`.replace(/\s/g,""):t))}`}function Hr(t){const e=new Date(1e3*t);return e.toLocaleDateString()}function Or(t,e="更新"){if(t.data.success)_t.emit("push-message",{style:"success",title:`${e}成功`});else{const a="string"===typeof t.data.message?[t.data.message]:t.data.message;_t.emit("push-message",{style:"danger",title:`${e}失敗`,content:a.join("、")})}}var Sr=a(8125),$r=a(8321),jr=a(2274),zr=a(2234),Br=a(7749),Yr=a(5708),qr=a(3990),Tr=a(579),Er=a(2389);Sr.vI.add($r.mRB,jr.NCV,zr.vnX),Object.keys(qr.ZP).forEach((t=>{(0,Yr.aH)(t,qr.ZP[t])})),(0,Yr.jQ)({generateMessage:(0,Tr.NC)({zhTW:Er}),validateOnInput:!0}),(0,Tr.i_)("zh_TW");const Vr=(0,s.ri)(Ct);Vr.config.globalProperties.$filters={currency:Wr,date:Hr},Vr.config.globalProperties.$httpMsgState=Or,Vr.component("Loading",Ir.Z),Vr.component("font-awesome-icon",Br.GN),Vr.component("Form",Yr.l0),Vr.component("Field",Yr.gN),Vr.component("ErrorMessage",Yr.Bc),Vr.use(i.Z,n()),Vr.use(Lr),Vr.mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,s,o,n){if(!s){var i=1/0;for(c=0;c<t.length;c++){s=t[c][0],o=t[c][1],n=t[c][2];for(var l=!0,r=0;r<s.length;r++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[r])}))?s.splice(r--,1):(l=!1,n<i&&(i=n));if(l){t.splice(c--,1);var d=o();void 0!==d&&(e=d)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,o,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p="/JustinProject/dist/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,n,i=s[0],l=s[1],r=s[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(r)var c=r(a)}for(e&&e(s);d<i.length;d++)n=i[d],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},s=self["webpackChunkjustin_project"]=self["webpackChunkjustin_project"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2058)}));s=a.O(s)})();
//# sourceMappingURL=app.22b5e1f7.js.map