(function(){"use strict";var t={1988:function(t,e,a){var s=a(9242),o=a(6265),i=a.n(o),n=a(6423),l=a(3396);function r(t,e,a,s,o,i){const n=(0,l.up)("UserHeader"),r=(0,l.up)("router-view"),d=(0,l.up)("UserFooter");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(n),(0,l.Wm)(r),(0,l.Wm)(d)],64)}var d=a(7139),c=a.p+"img/Logo.6f73e3b4.jpg";const u=t=>((0,l.dD)("data-v-35a0243a"),t=t(),(0,l.Cn)(),t),p={class:"header"},m=u((()=>(0,l._)("div",{class:"header__hide-box"},null,-1))),h={class:"header__logo"},_=u((()=>(0,l._)("img",{src:c,alt:""},null,-1))),g={class:"header__mini-bar"},v={class:"mini-user"},b={class:"mini-cart"},f={class:"container"},w={class:"cartIcon"},y={key:0,class:"icon-num"},k={key:1,class:"icon-null"},C={class:"cart-wrap"},P={class:"cart-container"},x={class:"cart-header"},D=(0,l.Uk)(" 購物車 "),$={key:0},M={class:"cart-photo"},U=["src"],L={class:"cart-text"},I={class:"num"},O=["disabled","onClick"],W={key:1,class:"cart-footer"},j=u((()=>(0,l._)("h4",null,"小計",-1))),z={key:2,class:"cart-checkout"},q=(0,l.Uk)(" 結帳 "),T={class:"nav-container"},B={class:"navbar navbar-expand-lg navbar-light scroll-menu"},E={class:"container-fluid"},S=u((()=>(0,l._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,l._)("span",{class:"navbar-toggler-icon"})],-1))),N={class:"collapse navbar-collapse",id:"navbarNav"},V={class:"navbar-nav"},Z={class:"nav-item"},Y=(0,l.Uk)("最新消息"),H={class:"nav-item"},F=(0,l.Uk)("全部商品"),K={class:"nav-item"},R=(0,l.Uk)("香氛小知識"),A={class:"nav-item"},G=(0,l.Uk)("關於我們"),J={class:"nav-item"},Q=(0,l.Uk)("購物車");function X(t,e,a,o,i,n){const r=(0,l.up)("router-link"),c=(0,l.up)("font-awesome-icon");return(0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("div",{class:(0,d.C_)(["header-container",{"scroll-nav":i.scrollNav}])},[m,(0,l._)("div",h,[(0,l.Wm)(r,{to:"/JustCandle"},{default:(0,l.w5)((()=>[_])),_:1})]),(0,l._)("div",g,[(0,l._)("div",v,[(0,l.Wm)(r,{to:"/login",class:"btn mini-user__img"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{icon:["fas","user"]})])),_:1})]),(0,l._)("div",b,[(0,l._)("div",f,[(0,l._)("div",w,[(0,l._)("button",{class:"btn cartIcon__img",onClick:e[0]||(e[0]=(...t)=>n.sideCartToggle&&n.sideCartToggle(...t))},[(0,l.Wm)(c,{icon:["fas","bag-shopping"]})]),0!==i.cartLen?((0,l.wg)(),(0,l.iD)("div",y,[(0,l._)("p",null,(0,d.zw)(i.cartLen),1)])):((0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("p",null,(0,d.zw)(i.cartLen),1)]))]),(0,l.wy)((0,l.Wm)(s.uT,{name:"sideCart"},{default:(0,l.w5)((()=>[(0,l._)("div",C,[(0,l._)("div",P,[(0,l._)("div",x,[(0,l._)("h2",null,[(0,l.Wm)(c,{icon:["fas","cart-shopping"]}),D]),(0,l._)("a",{href:"#",onClick:e[1]||(e[1]=(0,s.iM)(((...t)=>n.sideCartToggle&&n.sideCartToggle(...t)),["prevent"]))},[(0,l.Wm)(c,{icon:["fas","xmark"]})])]),0===i.cartLen?((0,l.wg)(),(0,l.iD)("h3",$,"購物車是空的喲!")):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.cart.carts,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"cart-item",key:e.id},[(0,l._)("div",M,[(0,l._)("img",{src:e.product.imageUrl,alt:""},null,8,U)]),(0,l._)("div",L,[(0,l._)("h3",null,(0,d.zw)(e.product.title),1),(0,l._)("div",I,[(0,l._)("h4",null,(0,d.zw)(e.qty)+" 件",1),(0,l._)("h4",null,"NT "+(0,d.zw)(t.$filters.currency(e.total))+" 元",1)])]),(0,l._)("button",{type:"button",class:"cart-del",disabled:this.status.loadingItem===e.id,onClick:t=>n.removeCartItem(e.id)},[this.status.loadingItem===e.id?((0,l.wg)(),(0,l.j4)(c,{key:0,icon:["fas","spinner"]})):((0,l.wg)(),(0,l.j4)(c,{key:1,icon:["fas","trash-can"]}))],8,O)])))),128)),0!==i.cartLen?((0,l.wg)(),(0,l.iD)("div",W,[j,(0,l._)("h5",null,"$ "+(0,d.zw)(t.$filters.currency(i.cart.total)),1)])):(0,l.kq)("",!0),0!==i.cartLen?((0,l.wg)(),(0,l.iD)("div",z,[(0,l.Wm)(r,{to:"/cart/cartPage"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{icon:["fas","cart-shopping"]}),q])),_:1})])):(0,l.kq)("",!0)])])])),_:1},512),[[s.F8,i.sideCart]])])])])],2),(0,l._)("div",T,[(0,l._)("nav",B,[(0,l._)("div",E,[S,(0,l._)("div",N,[(0,l._)("ul",V,[(0,l._)("li",Z,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[Y])),_:1})]),(0,l._)("li",H,[(0,l.Wm)(r,{to:"/products/productsIndex",class:"nav-link"},{default:(0,l.w5)((()=>[F])),_:1})]),(0,l._)("li",K,[(0,l.Wm)(r,{to:"/trivia",class:"nav-link"},{default:(0,l.w5)((()=>[R])),_:1})]),(0,l._)("li",A,[(0,l.Wm)(r,{to:"/",class:"nav-link"},{default:(0,l.w5)((()=>[G])),_:1})]),(0,l._)("li",J,[(0,l.Wm)(r,{to:"/cart/cartPage",class:"nav-link"},{default:(0,l.w5)((()=>[Q])),_:1})])])])])])])])}var tt=a(1373);const et=(0,tt.Z)();var at=et,st={name:"Navbar-view",data(){return{cartLen:0,cart:{},products:[],product:{},sideCart:"",status:{loadingItem:""},scrollNav:!1,screenWidth:""}},methods:{getCartList(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.$http.get(t).then((t=>{this.cart=t.data.data,this.cartLen=t.data.data.carts.length}))},removeCartItem(t){this.status.loadingItem=t;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/cart/${t}`;this.$http.delete(e).then((t=>{this.$httpMsgState(t,"產品移除"),this.status.loadingItem="",this.getCartList()}))},sideCartToggle(){this.sideCart=!this.sideCart},screenSize(){this.screenWidth=window.innerWidth},updateScroll(){const t=window.scrollY;this.scrollNav=t>50}},created(){this.screenSize(),at.on("updateCart",(t=>{this.cart=t,this.getCartList()})),window.addEventListener("resize",this.screenSize)},mounted(){window.addEventListener("scroll",this.updateScroll)}},ot=a(89);const it=(0,ot.Z)(st,[["render",X],["__scopeId","data-v-35a0243a"]]);var nt=it;const lt=t=>((0,l.dD)("data-v-bd973154"),t=t(),(0,l.Cn)(),t),rt={class:"footer"},dt=lt((()=>(0,l._)("div",{class:"footer__body"},[(0,l._)("div",{class:"footer__body--text"},[(0,l._)("p",null,"資料、圖片來源皆來自網路，僅作為學習用途。")])],-1))),ct=[dt];function ut(t,e,a,s,o,i){return(0,l.wg)(),(0,l.iD)("div",rt,ct)}var pt={name:"UserFooter"};const mt=(0,ot.Z)(pt,[["render",ut],["__scopeId","data-v-bd973154"]]);var ht=mt,_t={components:{UserHeader:nt,UserFooter:ht}};const gt=(0,ot.Z)(_t,[["render",r]]);var vt=gt,bt=a(2483),ft=a.p+"img/johanne-kristensen-bIVj1y37EJU-unsplash.6b733cb7.jpg",wt=a.p+"img/bf2.6cf11802.png",yt=a.p+"img/mg2.6fabb4da.png",kt=a.p+"img/by2.e30cc5ef.png",Ct=a.p+"img/k2.29caf7a5.png",Pt=a.p+"img/f2.f43d9780.png";const xt=t=>((0,l.dD)("data-v-428ca4f3"),t=t(),(0,l.Cn)(),t),Dt={class:"wrap"},$t={class:"main"},Mt={class:"info1"},Ut=xt((()=>(0,l._)("div",{class:"info1__title"},[(0,l._)("h2",null," DIPTYQUE ")],-1))),Lt={class:"info1__container"},It=xt((()=>(0,l._)("div",{class:"info1__container--img-place"},[(0,l._)("img",{src:ft,alt:""})],-1))),Ot={class:"info1__container--text"},Wt=xt((()=>(0,l._)("div",{class:"title"},[(0,l._)("h2",null,"About diptyque")],-1))),jt=xt((()=>(0,l._)("div",{class:"news"},[(0,l._)("p",null,"diptyque 為一當代、標誌性的香氛精品店，以前所未有的感官體驗，"),(0,l._)("p",null,"塑造生活的藝術與雅緻的奢華，而香氛、藝術與一切密不可分。"),(0,l._)("p",null,"自 1961 創立以來， diptyque 演繹自由精神，貫徹藝術創作，"),(0,l._)("p",null,"根植於愉悅的創造力、吸引力與充滿創意的邂逅。")],-1))),zt={class:"link"},qt=(0,l.Uk)(" 了解更多 "),Tt={class:"info2"},Bt=xt((()=>(0,l._)("div",{class:"info2__title"},[(0,l._)("h2",null," BAMFORD ")],-1))),Et={class:"info2__container"},St=xt((()=>(0,l._)("div",{class:"info2__container--for-mobile"},[(0,l._)("img",{src:wt,alt:""})],-1))),Nt={class:"info2__container--text"},Vt=(0,l.uE)('<div class="title" data-v-428ca4f3><h2 data-v-428ca4f3>About BAMFORD</h2></div><div class="news" data-v-428ca4f3><strong data-v-428ca4f3><span data-v-428ca4f3>品味英國貴族有機生活美學</span></strong><p data-v-428ca4f3>源自英國，代表一種奢華優雅、天然有機的生活風格。由貴族 Carole Bamford女爵創立，Bamford完美詮釋創辦人的品味與哲學，推崇生活的藝術，以天然植物萃取與傳統精細工藝，創造恆久純淨的沐浴、身體保養、寶寶保養與香氛創作，真正滋養心靈與肌膚，傳達美好幸福的品牌承諾。</p><strong data-v-428ca4f3><span data-v-428ca4f3>天然植物萃取 品質與細節至上</span></strong><p data-v-428ca4f3>Bamford提供追求細節與品質的顧客最完整的生活用品選擇。品牌尊崇並創造生活的藝術，並為所創作的產品負責任，承諾所有 Bamford 的產品都維持完美的特色，創造出最真誠且高品質的系列產品。</p><p data-v-428ca4f3>Bamford 身體保養系列採用天然原料成分，均含有精選的芳香精油，其香氣精緻並具有特殊功效。Bamford堅持產品完全於英國製造，不含防腐劑、界面活性劑、人工色素、礦物油及人工合成香料，提供頂級的保養選擇。</p><strong data-v-428ca4f3><span data-v-428ca4f3>品味英國貴族有機生活方式</span></strong><p data-v-428ca4f3>基於「有機不只有益於自然環境，也對我們的生活有極佳的正面影響，是真正的奢華。」的理念，Carole 女爵不僅長時間投入慈善活動，更於2002年成立了Daylesford Organic，以農場、店鋪、餐廳、烹飪教室等多元事業體，全方位地推廣有機飲食與文化。4年後正式開創Bamford，精彩演繹了有機理念如何擴張至生活風格及時尚領域。「Bamford的靈感源自於大自然，我們非常珍惜這世界上所有珍稀的自然產物，因此創造一系列能真正滋養身體、肌膚及心靈的天然植萃保養產品。」透過 Bamford ，Carole 積極推動天然植萃產品，致力於保持傳統工藝並將其傳承予下一代。</p></div>',2),Zt={class:"link"},Yt=(0,l.Uk)(" 了解更多 "),Ht=xt((()=>(0,l._)("div",{class:"info2__container--img-place"},[(0,l._)("img",{src:wt,alt:""})],-1))),Ft={class:"info3"},Kt=xt((()=>(0,l._)("div",{class:"info3__title"},[(0,l._)("h2",null," MALIN+GOETZ ")],-1))),Rt={class:"info3__container"},At=xt((()=>(0,l._)("div",{class:"info3__container--img-place"},[(0,l._)("img",{src:yt,alt:""})],-1))),Gt={class:"info3__container--text"},Jt=xt((()=>(0,l._)("div",{class:"title"},[(0,l._)("h2",null,"About MALIN+GOETZ")],-1))),Qt=xt((()=>(0,l._)("div",{class:"news"},[(0,l._)("p",null,"diptyque 為一當代、標誌性的香氛精品店，以前所未有的感官體驗，"),(0,l._)("p",null,"塑造生活的藝術與雅緻的奢華，而香氛、藝術與一切密不可分。"),(0,l._)("p",null,"自 1961 創立以來， diptyque 演繹自由精神，貫徹藝術創作，"),(0,l._)("p",null,"根植於愉悅的創造力、吸引力與充滿創意的邂逅。")],-1))),Xt={class:"link"},te=(0,l.Uk)(" 了解更多 "),ee={class:"info4"},ae=xt((()=>(0,l._)("div",{class:"info4__title"},[(0,l._)("h2",null," 其他商品 ")],-1))),se={class:"info4__container"},oe={class:"info4__container--otherProduct"},ie=xt((()=>(0,l._)("img",{class:"imagePlace",src:kt,alt:""},null,-1))),ne=xt((()=>(0,l._)("h2",{class:"titlePlace"},"BYREDO",-1))),le={class:"linkPlace"},re=(0,l.Uk)(" 了解更多 "),de=xt((()=>(0,l._)("img",{class:"imagePlace",src:Ct,alt:""},null,-1))),ce=xt((()=>(0,l._)("h2",{class:"titlePlace"},"KERZON",-1))),ue={class:"linkPlace"},pe=(0,l.Uk)(" 了解更多 "),me=xt((()=>(0,l._)("img",{class:"imagePlace",src:Pt,alt:""},null,-1))),he=xt((()=>(0,l._)("h2",{class:"titlePlace"},"FLORAÏKU",-1))),_e={class:"linkPlace"},ge=(0,l.Uk)(" 了解更多 ");function ve(t,e,a,s,o,i){const n=(0,l.up)("banner"),r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",Dt,[(0,l._)("div",$t,[(0,l.Wm)(n),(0,l._)("div",Mt,[Ut,(0,l._)("div",Lt,[It,(0,l._)("div",Ot,[Wt,jt,(0,l._)("div",zt,[(0,l.Wm)(r,{class:"view-more btn btn-outline-secondary",to:{path:"/brands",query:{productCategory:"diptyque"}}},{default:(0,l.w5)((()=>[qt])),_:1})])])])]),(0,l._)("div",Tt,[Bt,(0,l._)("div",Et,[St,(0,l._)("div",Nt,[Vt,(0,l._)("div",Zt,[(0,l.Wm)(r,{class:"view-more btn btn-outline-secondary",to:{path:"/brands",query:{productCategory:"bamford"}}},{default:(0,l.w5)((()=>[Yt])),_:1})])]),Ht])]),(0,l._)("div",Ft,[Kt,(0,l._)("div",Rt,[At,(0,l._)("div",Gt,[Jt,Qt,(0,l._)("div",Xt,[(0,l.Wm)(r,{class:"view-more btn btn-outline-secondary",to:{path:"/brands",query:{productCategory:"MALIN+GOETZ"}}},{default:(0,l.w5)((()=>[te])),_:1})])])])]),(0,l._)("div",ee,[ae,(0,l._)("div",se,[(0,l._)("div",oe,[(0,l._)("ul",null,[(0,l._)("li",null,[ie,ne,(0,l._)("div",le,[(0,l.Wm)(r,{class:"view-more btn btn-outline-secondary",to:{path:"/brands",query:{productCategory:"BYREDO"}}},{default:(0,l.w5)((()=>[re])),_:1})])]),(0,l._)("li",null,[de,ce,(0,l._)("div",ue,[(0,l.Wm)(r,{class:"view-more btn btn-outline-secondary",to:{path:"/brands",query:{productCategory:"KERZON"}}},{default:(0,l.w5)((()=>[pe])),_:1})])]),(0,l._)("li",null,[me,he,(0,l._)("div",_e,[(0,l.Wm)(r,{class:"view-more btn btn-outline-secondary",to:{path:"/brands",query:{productCategory:"FLORAÏKU"}}},{default:(0,l.w5)((()=>[ge])),_:1})])])])])])])])])}var be=a.p+"img/kat-von-wood-HhVgCRGX6bk-unsplash.936794df.jpg",fe=a.p+"img/rebecca-peterson-hall-aN-zGYlxiCI-unsplash.49754def.jpg",we=a.p+"img/pille-r-priske-hr0nUFtpCTk-unsplash.b2398d67.jpg";const ye={id:"carouselExampleCaptions",class:"carousel slide banner","data-bs-ride":"carousel"},ke=(0,l.uE)('<div class="carousel-inner" data-v-2ac89b19><div class="carousel-item active" data-v-2ac89b19><img src="'+be+'" alt="" class="d-block w-100" data-v-2ac89b19></div><div class="carousel-item" data-v-2ac89b19><img src="'+fe+'" alt="" class="d-block w-100" data-v-2ac89b19></div><div class="carousel-item" data-v-2ac89b19><img src="'+we+'" alt="" class="d-block w-100" data-v-2ac89b19></div></div><button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev" data-v-2ac89b19><span class="carousel-control-prev-icon" aria-hidden="true" data-v-2ac89b19></span><span class="visually-hidden" data-v-2ac89b19>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next" data-v-2ac89b19><span class="carousel-control-next-icon" aria-hidden="true" data-v-2ac89b19></span><span class="visually-hidden" data-v-2ac89b19>Next</span></button>',3),Ce=[ke];function Pe(t,e,a,s,o,i){return(0,l.wg)(),(0,l.iD)("div",ye,Ce)}var xe={name:"Banner-view"};const De=(0,ot.Z)(xe,[["render",Pe],["__scopeId","data-v-2ac89b19"]]);var $e=De,Me={name:"Home-view",data(){return{brandDiptyque:[],brandBamford:[],brandMZ:[]}},components:{banner:$e},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.brandDiptyque=t.data.products.filter((t=>"diptyque"===t.category)),this.brandDiptyque=t.data.products.filter((t=>"bamford"===t.category)),this.brandDiptyque=t.data.products.filter((t=>"MALIN+GOETZ"===t.category)),this.brandDiptyque=t.data.products.filter((t=>"BYREDO"===t.category)),this.brandDiptyque=t.data.products.filter((t=>"KERZON"===t.category)),this.brandDiptyque=t.data.products.filter((t=>"FLORAÏKU"===t.category)),this.isLoading=!1}))}},created(){this.getProducts()}};const Ue=(0,ot.Z)(Me,[["render",ve],["__scopeId","data-v-428ca4f3"]]);var Le=Ue,Ie=a.p+"img/1-2.68e8ffb8.png",Oe=a.p+"img/2-3.101cfaee.png",We=a.p+"img/4_2.df125dee.png",je=a.p+"img/5_2.e7f576da.png",ze=a.p+"img/6_1.53482640.png";const qe={class:"wrap"},Te=(0,l.uE)('<div class="main" data-v-373f069b><div class="content" data-v-373f069b><div class="content__box1" data-v-373f069b><div class="content__title" data-v-373f069b><h2 data-v-373f069b>香氛蠟燭使用指南：蠟燭燒到一半中央凹陷、冒黑煙？如何延長你的蠟燭壽命？</h2></div><div class="content__image" data-v-373f069b><img src="'+Ie+'" alt="" data-v-373f069b></div><div class="content__info" data-v-373f069b><p data-v-373f069b>香氛蠟燭，成為你我秋冬日常中營造儀式感不可或缺的物件之一！</p><p data-v-373f069b>隨著搖曳的燭火溫暖空間的同時，感受香氛縈繞空間，置在家中一隅更能點綴居家品味！</p></div><div class="content__image" data-v-373f069b><img src="'+Oe+'" alt="" data-v-373f069b></div><div class="content__info" data-v-373f069b><p data-v-373f069b>不知道你有沒有這樣的經歷，像是熄滅蠟燭時黑煙飄出、蠟燭中央燒出了一個洞無法均勻燃燒？</p><p data-v-373f069b>以下4個技巧，學起來讓家裡的蠟燭燃燒得更持久，延續蠟燭的壽命！</p></div></div><div class="content__box2" data-v-373f069b><div class="content__title" data-v-373f069b><h2 data-v-373f069b>#1｜第一次燃燒蠟燭，請持續1-2hr</h2></div><div class="content__image" data-v-373f069b><img src="'+We+'" alt="" data-v-373f069b></div><div class="content__info" data-v-373f069b><p data-v-373f069b>當你拿到一顆全新的香氛蠟燭時，別忘先持續燃燒一至兩個小時（隨著蠟燭大小／環境 需加長燃燒時間），使整個表面都融化至液體後再熄滅，才不會發生蠟燭中央燒出一個洞的狀況。</p></div></div><div class="content__box3" data-v-373f069b><div class="content__title" data-v-373f069b><h2 data-v-373f069b>#2｜燃燒2-3小時，暫時熄滅蠟燭</h2></div><div class="content__image" data-v-373f069b><img src="'+je+'" alt="" data-v-373f069b></div><div class="content__info" data-v-373f069b><p data-v-373f069b>建議使用每2-3小時，暫時熄滅蠟燭，讓室內空間流通後再持續使用，並建議使用「滅燭罩」以減少黑煙產生！</p><p data-v-373f069b>相信你不會希望燭火熄滅時的焦味，影響了你空間中的美好香氣。</p></div></div><div class="content__box4" data-v-373f069b><div class="content__title" data-v-373f069b><h2 data-v-373f069b>#3｜使用後保持燭芯0.6-0.7cm 的長度</h2></div><div class="content__image" data-v-373f069b><img src="'+ze+'" alt="" data-v-373f069b></div><div class="content__info" data-v-373f069b><p data-v-373f069b>1.請記得避免放置迎風處，以免燃燒不平均或是因燭火傾斜而產生危險。 當然也別放在陽光直射處，防止蠟燭因長期照射而變色！</p><p data-v-373f069b>2.部分原料會因為時間，而有氧化變深的狀況，在使用上沒有任何的疑慮，請放心！</p><p data-v-373f069b>3.確實的香氛蠟燭使用指南，讓蠟燭使用壽命延長。</p></div></div></div></div>',1),Be=[Te];function Ee(t,e,a,s,o,i){return(0,l.wg)(),(0,l.iD)("div",qe,Be)}var Se={name:"Trivia-view"};const Ne=(0,ot.Z)(Se,[["render",Ee],["__scopeId","data-v-373f069b"]]);var Ve=Ne;const Ze=t=>((0,l.dD)("data-v-95c1b9d4"),t=t(),(0,l.Cn)(),t),Ye={class:"wrap"},He={class:"container"},Fe={class:"login-place"},Ke=Ze((()=>(0,l._)("h2",{class:""},"後台管理員",-1))),Re=Ze((()=>(0,l._)("p",null,"請先登入:",-1))),Ae={class:"mb-2"},Ge=Ze((()=>(0,l._)("label",{for:"inputEmail",class:"sr-only"},"Email address",-1))),Je={class:"mb-2"},Qe=Ze((()=>(0,l._)("label",{for:"inputPassword",class:"sr-only"},"Password",-1))),Xe={class:"linkBtn"},ta=(0,l.Uk)("返回首頁"),ea=Ze((()=>(0,l._)("button",{class:"btn btn-primary",type:"submit"},"登入",-1)));function aa(t,e,a,o,i,n){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",Ye,[(0,l._)("div",He,[(0,l._)("form",{class:"form-place",onSubmit:e[2]||(e[2]=(0,s.iM)(((...t)=>o.signIn&&o.signIn(...t)),["prevent"]))},[(0,l._)("div",Fe,[Ke,Re,(0,l._)("div",Ae,[Ge,(0,l.wy)((0,l._)("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t)},null,512),[[s.nr,o.username]])]),(0,l._)("div",Je,[Qe,(0,l.wy)((0,l._)("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t)},null,512),[[s.nr,o.password]])]),(0,l._)("div",Xe,[(0,l.Wm)(r,{class:"btn btn-outline-secondary",to:"/"},{default:(0,l.w5)((()=>[ta])),_:1}),ea])])],32)])])}var sa=a(4870);const oa=i().create({baseURL:"https://vue3-course-api.hexschool.io/",timeout:1e4}),ia=(t,e={})=>new Promise(((a,s)=>{oa.post(t,e).then((t=>{a(t)}),(t=>{s(t)}))})),na=()=>{const t=(0,bt.tv)(),e=(0,sa.qj)({username:"",password:""}),a=async()=>{try{const a=await ia("admin/signin",{username:e.username,password:e.password});if(a?.data?.success){const{token:e,expired:s}=a.data;document.cookie=`hexToken=${e}; expires=${new Date(s)}`,console.log("登入成功"),await t.push("/dashboard/products")}}catch(a){console.log(a)}},{username:s,password:o}=(0,sa.BK)(e);return{username:s,password:o,signIn:a}};var la={name:"Login-view",setup(){const{username:t,password:e,signIn:a}=na();return{username:t,password:e,signIn:a}}};const ra=(0,ot.Z)(la,[["render",aa],["__scopeId","data-v-95c1b9d4"]]);var da=ra;const ca={class:"container-fluid position-relative"};function ua(t,e,a,s,o,i){const n=(0,l.up)("Navbar"),r=(0,l.up)("ToastMessages"),d=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(n),(0,l._)("div",ca,[(0,l.Wm)(r),(0,l.Wm)(d)])],64)}const pa={class:"navbar navbar-expand-lg navbar-light bg-light"},ma=(0,l._)("a",{class:"navbar-brand",href:"#"},"這裡是LOGO",-1),ha=(0,l._)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,l._)("span",{class:"navbar-toggler-icon"})],-1),_a={class:"collapse navbar-collapse",id:"navbarNav"},ga={class:"navbar-nav"},va=(0,l.Uk)("優惠券");function ba(t,e,a,o,i,n){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("nav",pa,[ma,ha,(0,l._)("div",_a,[(0,l._)("div",ga,[(0,l.Wm)(r,{to:"/dashboard/discount",class:"nav-link"},{default:(0,l.w5)((()=>[va])),_:1}),(0,l._)("a",{class:"nav-link",href:"#",onClick:e[0]||(e[0]=(0,s.iM)(((...t)=>n.logout&&n.logout(...t)),["prevent"]))},"登出")])])])}var fa={name:"Navbar-view",methods:{logout(){const t="https://vue3-course-api.hexschool.io/logout";this.$http.post(t,this.user).then((t=>{t.data.success&&this.$router.push("/login")}))}}};const wa=(0,ot.Z)(fa,[["render",ba]]);var ya=wa;const ka={class:"toast-container position-absolute pe-3 top-0 end-0"};function Ca(t,e,a,s,o,i){const n=(0,l.up)("Toast");return(0,l.wg)(),(0,l.iD)("div",ka,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.messages,((t,e)=>((0,l.wg)(),(0,l.j4)(n,{key:e,msg:t},null,8,["msg"])))),128))])}const Pa=t=>((0,l.dD)("data-v-d41cce56"),t=t(),(0,l.Cn)(),t),xa={class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},Da={class:"toast-header"},$a={class:"me-auto"},Ma=Pa((()=>(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1))),Ua={key:0,class:"toast-body"};function La(t,e,a,s,o,i){return(0,l.wg)(),(0,l.iD)("div",xa,[(0,l._)("div",Da,[(0,l._)("span",{class:(0,d.C_)([`bg-${a.msg.title}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,l._)("strong",$a,(0,d.zw)(a.msg.title),1),Ma]),a.msg.content?((0,l.wg)(),(0,l.iD)("div",Ua,(0,d.zw)(a.msg.content),1)):(0,l.kq)("",!0)],512)}var Ia=a(8803),Oa=a.n(Ia),Wa={name:"Toast",props:["msg"],mounted(){const t=this.$refs.toast,e=new(Oa())(t,{delay:3e3});e.show()}};const ja=(0,ot.Z)(Wa,[["render",La],["__scopeId","data-v-d41cce56"]]);var za=ja,qa={name:"ToastMessages",components:{Toast:za},data(){return{messages:[]}},inject:["emitter"],mounted(){this.emitter.on("push-message",(t=>{const{style:e="success",title:a,content:s}=t;this.messages.push({style:e,title:a,content:s})}))}};const Ta=(0,ot.Z)(qa,[["render",Ca],["__scopeId","data-v-10b79b62"]]);var Ba=Ta,Ea={name:"Dashboard-view",components:{Navbar:ya,ToastMessages:Ba},created(){this.$http.defaults.headers.common.Authorization=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");const t="https://vue3-course-api.hexschool.io/api/user/check";this.$http.post(t,this.user).then((t=>{t.data.success||this.$router.push("/login")}))},provide(){return{emitter:at}}};const Sa=(0,ot.Z)(Ea,[["render",ua],["__scopeId","data-v-9be1905e"]]);var Na=Sa;const Va={class:"wrap"},Za={class:"text-end"},Ya={class:"table mt-4"},Ha=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{width:"100"},"分類"),(0,l._)("th",{width:"200"},"產品名稱"),(0,l._)("th",{width:"120"},"圖片"),(0,l._)("th",{width:"100"},"品牌"),(0,l._)("th",{width:"100"},"原價"),(0,l._)("th",{width:"100"},"售價"),(0,l._)("th",{width:"100"},"件數"),(0,l._)("th",{width:"100"},"是否啟用"),(0,l._)("th",{width:"80"},"編輯")])],-1),Fa=["src"],Ka={class:"text-right"},Ra={class:"text-right"},Aa={key:0,class:"text-success"},Ga={key:1,class:"text-muted"},Ja={class:"btn-group"},Qa=["onClick"],Xa=["onClick"];function ts(t,e,a,s,o,i){const n=(0,l.up)("Loading"),r=(0,l.up)("Pagination"),c=(0,l.up)("ProductModal"),u=(0,l.up)("DeleteModal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(n,{active:o.isLoading},null,8,["active"]),(0,l._)("div",Va,[(0,l._)("div",Za,[(0,l._)("button",{class:"btn btn-primary",type:"button",onClick:e[0]||(e[0]=t=>i.openProductModal(!0))}," 新增產品 ")]),(0,l._)("table",Ya,[Ha,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.products,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,d.zw)(e.category),1),(0,l._)("td",null,(0,d.zw)(e.title),1),(0,l._)("td",null,[(0,l._)("img",{class:"img-fluid",style:{"max-width":"60%"},src:e.imageUrl,alt:""},null,8,Fa)]),(0,l._)("td",null,(0,d.zw)(e.category),1),(0,l._)("td",Ka,(0,d.zw)(t.$filters.currency(e.origin_price)),1),(0,l._)("td",Ra,(0,d.zw)(t.$filters.currency(e.price)),1),(0,l._)("td",null,(0,d.zw)(e.unit),1),(0,l._)("td",null,[e.is_enabled?((0,l.wg)(),(0,l.iD)("span",Aa,"啟用")):((0,l.wg)(),(0,l.iD)("span",Ga,"未啟用"))]),(0,l._)("td",null,[(0,l._)("div",Ja,[(0,l._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>i.openProductModal(!1,e)},"編輯",8,Qa),(0,l._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t=>i.deleteProductModal(e)},"刪除",8,Xa)])])])))),128))])]),(0,l.Wm)(r,{pages:o.pagination,onEmitPages:i.getProducts},null,8,["pages","onEmitPages"]),(0,l.Wm)(c,{ref:"productModal",product:o.tempProduct,onUpdateProduct:i.updateProduct},null,8,["product","onUpdateProduct"]),(0,l.Wm)(u,{ref:"deleteModal",item:o.tempProduct,onDeleteItem:i.deleteProduct},null,8,["item","onDeleteItem"])])],64)}const es={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},as={class:"modal-dialog modal-xl",role:"document"},ss={class:"modal-content border-0"},os={class:"modal-header bg-dark text-white"},is={class:"modal-title",id:"exampleModalLabel"},ns=(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ls={class:"modal-body"},rs={class:"row"},ds={class:"col-sm-4"},cs={class:"mb-3"},us=(0,l._)("label",{for:"image",class:"form-label"},"輸入圖片網址",-1),ps={class:"mb-3"},ms=(0,l._)("label",{for:"customFile",class:"form-label"},[(0,l.Uk)("或 上傳圖片 "),(0,l._)("i",{class:"fas fa-spinner fa-spin"})],-1),hs=["src"],_s={key:0,class:"mt-5"},gs=["onUpdate:modelValue"],vs=["onClick"],bs={key:0},fs={class:"col-sm-8"},ws={class:"mb-3"},ys=(0,l._)("label",{for:"title",class:"form-label"},"標題",-1),ks={class:"row gx-2"},Cs={class:"mb-3 col-md-6"},Ps=(0,l._)("label",{for:"category",class:"form-label"},"分類",-1),xs={class:"mb-3 col-md-6"},Ds=(0,l._)("label",{for:"price",class:"form-label"},"單位",-1),$s={class:"row gx-2"},Ms={class:"mb-3 col-md-6"},Us=(0,l._)("label",{for:"origin_price",class:"form-label"},"原價",-1),Ls={class:"mb-3 col-md-6"},Is=(0,l._)("label",{for:"price",class:"form-label"},"售價",-1),Os=(0,l._)("hr",null,null,-1),Ws={class:"mb-3"},js=(0,l._)("label",{for:"description",class:"form-label"},"產品描述",-1),zs={class:"mb-3"},qs=(0,l._)("label",{for:"content",class:"form-label"},"說明內容",-1),Ts={class:"mb-3"},Bs={class:"form-check"},Es=(0,l._)("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ",-1),Ss={class:"modal-footer"},Ns=(0,l._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消 ",-1);function Vs(t,e,a,o,i,n){return(0,l.wg)(),(0,l.iD)("div",es,[(0,l._)("div",as,[(0,l._)("div",ss,[(0,l._)("div",os,[(0,l._)("h5",is,[(0,l._)("span",null,(0,d.zw)(i.tempProduct.title?"編輯產品":"新增產品"),1)]),ns]),(0,l._)("div",ls,[(0,l._)("div",rs,[(0,l._)("div",ds,[(0,l._)("div",cs,[us,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"image",placeholder:"請輸入圖片連結","onUpdate:modelValue":e[0]||(e[0]=t=>i.tempProduct.imageUrl=t)},null,512),[[s.nr,i.tempProduct.imageUrl]])]),(0,l._)("div",ps,[ms,(0,l._)("input",{type:"file",id:"customFile",class:"form-control",ref:"fileInput",onChange:e[1]||(e[1]=(...t)=>n.uploadFile&&n.uploadFile(...t))},null,544)]),(0,l._)("img",{class:"img-fluid",alt:"",src:i.tempProduct.imageUrl},null,8,hs),i.tempProduct.images?((0,l.wg)(),(0,l.iD)("div",_s,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.tempProduct.images,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"mb-3 input-group",key:e},[(0,l.wy)((0,l._)("input",{type:"url",class:"form-control form-control",placeholder:"請輸入連結","onUpdate:modelValue":t=>i.tempProduct.images[e]=t},null,8,gs),[[s.nr,i.tempProduct.images[e]]]),(0,l._)("button",{type:"button",class:"btn btn-close mt-2",onClick:t=>i.tempProduct.images.splice(e,1)},null,8,vs)])))),128)),i.tempProduct.images[i.tempProduct.images.length-1]||!i.tempProduct.images.length?((0,l.wg)(),(0,l.iD)("div",bs,[(0,l._)("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:e[2]||(e[2]=t=>i.tempProduct.images.push(""))}," 新增圖片 ")])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)]),(0,l._)("div",fs,[(0,l._)("div",ws,[ys,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"title",placeholder:"請輸入標題","onUpdate:modelValue":e[3]||(e[3]=t=>i.tempProduct.title=t)},null,512),[[s.nr,i.tempProduct.title]])]),(0,l._)("div",ks,[(0,l._)("div",Cs,[Ps,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"category",placeholder:"請輸入分類","onUpdate:modelValue":e[4]||(e[4]=t=>i.tempProduct.category=t)},null,512),[[s.nr,i.tempProduct.category]])]),(0,l._)("div",xs,[Ds,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"unit",placeholder:"請輸入單位","onUpdate:modelValue":e[5]||(e[5]=t=>i.tempProduct.unit=t)},null,512),[[s.nr,i.tempProduct.unit]])])]),(0,l._)("div",$s,[(0,l._)("div",Ms,[Us,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"origin_price",placeholder:"請輸入原價","onUpdate:modelValue":e[6]||(e[6]=t=>i.tempProduct.origin_price=t)},null,512),[[s.nr,i.tempProduct.origin_price]])]),(0,l._)("div",Ls,[Is,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"price",placeholder:"請輸入售價","onUpdate:modelValue":e[7]||(e[7]=t=>i.tempProduct.price=t)},null,512),[[s.nr,i.tempProduct.price]])])]),Os,(0,l._)("div",Ws,[js,(0,l.wy)((0,l._)("textarea",{type:"text",class:"form-control",id:"description",placeholder:"請輸入產品描述","onUpdate:modelValue":e[8]||(e[8]=t=>i.tempProduct.description=t)},null,512),[[s.nr,i.tempProduct.description]])]),(0,l._)("div",zs,[qs,(0,l.wy)((0,l._)("textarea",{type:"text",class:"form-control",id:"content",placeholder:"請輸入產品說明內容","onUpdate:modelValue":e[9]||(e[9]=t=>i.tempProduct.content=t)},null,512),[[s.nr,i.tempProduct.content]])]),(0,l._)("div",Ts,[(0,l._)("div",Bs,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,id:"is_enabled","onUpdate:modelValue":e[10]||(e[10]=t=>i.tempProduct.is_enabled=t)},null,512),[[s.e8,i.tempProduct.is_enabled]]),Es])])])])]),(0,l._)("div",Ss,[Ns,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:e[11]||(e[11]=e=>t.$emit("update-product",i.tempProduct))},"確認")])])])],512)}var Zs=a(7972),Ys=a.n(Zs),Hs={methods:{showModal(){this.modal.show()},hideModal(){this.modal.hide()}},mounted(){this.modal=new(Ys())(this.$refs.modal)}},Fs={name:"ProductModal",props:{product:{type:Object,default(){return{}}}},watch:{product(){this.tempProduct=this.product,this.tempProduct.images||(this.tempProduct.images=[])}},data(){return{modal:{},tempProduct:{}}},methods:{uploadFile(){const t=this.$refs.fileInput.files[0],e=new FormData;e.append("file-to-upload",t);const a="https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/upload",s=this.$refs.fileInput.id;this.$http.post(a,e).then((t=>{t.data.success?(this.tempProduct.imageUrl=t.data.imageUrl,document.getElementById(s).value=""):t.data.success||this.$httpMsgState(t,"圖片上傳")})).catch((t=>{console.log(t)}))}},mixins:[Hs]};const Ks=(0,ot.Z)(Fs,[["render",Vs]]);var Rs=Ks;const As={class:"modal fade",id:"delModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},Gs={class:"modal-dialog",role:"document"},Js={class:"modal-content border-0"},Qs={class:"modal-header bg-danger text-white"},Xs={class:"modal-title"},to=(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),eo={class:"modal-body"},ao=(0,l.Uk)(" 是否刪除 "),so={class:"text-danger"},oo=(0,l.Uk)(" (刪除後將無法恢復)。 "),io={class:"modal-footer"},no=(0,l._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消 ",-1);function lo(t,e,a,s,o,i){return(0,l.wg)(),(0,l.iD)("div",As,[(0,l._)("div",Gs,[(0,l._)("div",Js,[(0,l._)("div",Qs,[(0,l._)("h5",Xs,[(0,l._)("span",null,"刪除 "+(0,d.zw)(a.item.title),1)]),to]),(0,l._)("div",eo,[ao,(0,l._)("strong",so,(0,d.zw)(a.item.title),1),oo]),(0,l._)("div",io,[no,(0,l._)("button",{type:"button",class:"btn btn-danger",onClick:e[0]||(e[0]=e=>t.$emit("delete-item"))},"確認刪除 ")])])])],512)}var ro={name:"DeleteModal",props:{item:{}},data(){return{modal:""}},mixins:[Hs]};const co=(0,ot.Z)(ro,[["render",lo]]);var uo=co;const po={"aria-label":"Page navigation example"},mo={class:"pagination justify-content-center"},ho={class:"page-item"},_o=(0,l._)("span",{"aria-hidden":"true"},"«",-1),go=[_o],vo=["onClick"],bo={class:"page-item"},fo=(0,l._)("span",{"aria-hidden":"true"},"»",-1),wo=[fo];function yo(t,e,a,o,i,n){return(0,l.wg)(),(0,l.iD)("nav",po,[(0,l._)("ul",mo,[(0,l._)("li",ho,[(0,l._)("a",{class:(0,d.C_)(["page-link",{disabled:this.nowPage<=1}]),href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,s.iM)(((...t)=>n.previousBtn&&n.previousBtn(...t)),["prevent"]))},go,2)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.pages.total_pages,(t=>((0,l.wg)(),(0,l.iD)("li",{class:(0,d.C_)(["page-item",{active:t===a.pages.current_page}]),key:t},[(0,l._)("a",{class:"page-link",href:"#",onClick:(0,s.iM)((e=>n.updatePage(t)),["prevent"])},(0,d.zw)(t),9,vo)],2)))),128)),(0,l._)("li",bo,[(0,l._)("a",{class:(0,d.C_)(["page-link",{disabled:this.nowPage===a.pages.total_pages}]),href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,s.iM)(((...t)=>n.nextBtn&&n.nextBtn(...t)),["prevent"]))},wo,2)])])])}var ko={name:"Pagination-view",props:["pages"],data(){return{nowPage:1}},methods:{updatePage(t){this.$emit("emit-pages",t),this.nowPage=t},previousBtn(){if(1===this.nowPage)return this.nowPage;this.nowPage=this.nowPage-1,this.updatePage(this.nowPage)},nextBtn(){if(this.nowPage===this.nowPage-1)return this.nowPage;this.nowPage=this.nowPage+1,this.updatePage(this.nowPage)}}};const Co=(0,ot.Z)(ko,[["render",yo]]);var Po=Co,xo={name:"Products-view",data(){return{products:[],pagination:{},tempProduct:{},isNew:!1,isLoading:!1}},inject:["emitter"],components:{ProductModal:Rs,DeleteModal:uo,Pagination:Po},methods:{getProducts(t=1){const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/products?page=${t}`;this.isLoading=!0,this.$http.get(e).then((t=>{this.isLoading=!1,t.data.success&&(this.products=t.data.products,this.pagination=t.data.pagination,console.log(t.data))}))},openProductModal(t,e){this.tempProduct=t?{}:{...e},this.isNew=t;const a=this.$refs.productModal;a.showModal(),this.isLoading=!1},updateProduct(t){this.tempProduct=t;let e="https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/product",a="post";this.isLoading=!0,this.isNew||(e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/product/${t.id}`,a="put",this.isLoading=!0);const s=this.$refs.productModal;this.$http[a](e,{data:this.tempProduct}).then((t=>{s.hideModal(),this.getProducts(),this.$httpMsgState(t,"更新產品")})),this.isLoading=!1},deleteProductModal(t){this.tempProduct={...t};const e=this.$refs.deleteModal;e.showModal()},deleteProduct(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/product/${this.tempProduct.id}`;this.$http.delete(t).then((t=>{const e=this.$refs.deleteModal;e.hideModal(),this.getProducts()}))}},created(){this.getProducts()}};const Do=(0,ot.Z)(xo,[["render",ts]]);var $o=Do;const Mo={class:"table mt-4"},Uo=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{width:"120"},"購買時間"),(0,l._)("th",{width:"160"},"Email"),(0,l._)("th",{width:"160"},"購買紀錄"),(0,l._)("th",{width:"80"},"應付金額"),(0,l._)("th",{width:"80"},"是否已付款"),(0,l._)("th",{width:"100"},"編輯")])],-1),Lo=["textContent"],Io={class:"list-unstyled"},Oo={class:"text-right"},Wo=["id","onUpdate:modelValue","onChange"],jo=["for"],zo={key:0,class:"text-success"},qo={key:1,class:"text-muted"},To={class:"btn-group"},Bo=["onClick"],Eo=["onClick"];function So(t,e,a,o,i,n){const r=(0,l.up)("Loading"),c=(0,l.up)("Pagination"),u=(0,l.up)("OrderModal"),p=(0,l.up)("DeleteModal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{active:i.isLoading},null,8,["active"]),(0,l._)("table",Mo,[Uo,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.orders,((e,a)=>((0,l.wg)(),(0,l.iD)("tr",{key:a},[(0,l._)("td",null,(0,d.zw)(t.$filters.date(e.create_at)),1),(0,l._)("td",null,[e.user?((0,l.wg)(),(0,l.iD)("span",{key:0,textContent:(0,d.zw)(e.user.email)},null,8,Lo)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l._)("ul",Io,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.products,((t,e)=>((0,l.wg)(),(0,l.iD)("li",{key:e},(0,d.zw)(t.product.title)+" 數量: "+(0,d.zw)(t.qty)+" "+(0,d.zw)(t.product.unit),1)))),128))])]),(0,l._)("td",Oo,(0,d.zw)(e.total),1),(0,l._)("td",null,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox",id:`paidSwitch${e.id}`,"onUpdate:modelValue":t=>e.is_paid=t,onChange:t=>n.updatePaid(e)},null,40,Wo),[[s.e8,e.is_paid]]),(0,l._)("label",{class:"form-check-label",for:`paidSwitch${e.id}`},[e.is_paid?((0,l.wg)(),(0,l.iD)("span",zo,"已付款")):((0,l.wg)(),(0,l.iD)("span",qo,"未付款"))],8,jo)]),(0,l._)("td",null,[(0,l._)("div",To,[(0,l._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>n.openModal(!1,e)},"檢視",8,Bo),(0,l._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t=>n.deleteOrderModal(e)},"刪除",8,Eo)])])])))),128))])]),(0,l.Wm)(c,{pages:i.pagination,onEmitPages:n.getOrders},null,8,["pages","onEmitPages"]),(0,l.Wm)(u,{ref:"orderModal",product:i.tempOrder,onUpdatePaid:n.updatePaid},null,8,["product","onUpdatePaid"]),(0,l.Wm)(p,{ref:"deleteModal",item:i.tempOrder,onDeleteItem:n.deleteOrder},null,8,["item","onDeleteItem"])],64)}const No={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},Vo={class:"modal-dialog modal-xl",role:"document"},Zo={class:"modal-content border-0"},Yo=(0,l._)("div",{class:"modal-header bg-dark text-white"},[(0,l._)("h5",{class:"modal-title",id:"exampleModalLabel"},[(0,l._)("span",null,"訂單細節")]),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ho={class:"modal-body"},Fo={class:"row"},Ko={class:"col-md-4"},Ro=(0,l._)("h3",null,"用戶資料",-1),Ao={class:"table"},Go={key:0},Jo=(0,l._)("th",{style:{width:"100px"}},"姓名",-1),Qo=(0,l._)("th",null,"Email",-1),Xo=(0,l._)("th",null,"電話",-1),ti=(0,l._)("th",null,"地址",-1),ei={class:"col-md-8"},ai=(0,l._)("h3",null,"訂單細節",-1),si={class:"table"},oi=(0,l._)("th",{style:{width:"100px"}},"訂單編號",-1),ii=(0,l._)("th",null,"下單時間",-1),ni=(0,l._)("th",null,"付款時間",-1),li={key:0},ri={key:1},di=(0,l._)("th",null,"付款狀態",-1),ci={key:0,class:"text-success"},ui={key:1,class:"text-muted"},pi=(0,l._)("th",null,"總金額",-1),mi=(0,l._)("h3",null,"選購商品",-1),hi={class:"table"},_i=(0,l._)("thead",null,[(0,l._)("tr")],-1),gi={class:"text-end"},vi={class:"modal-footer"},bi=(0,l._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消 ",-1);function fi(t,e,a,s,o,i){return(0,l.wg)(),(0,l.iD)("div",No,[(0,l._)("div",Vo,[(0,l._)("div",Zo,[Yo,(0,l._)("div",Ho,[(0,l._)("div",Fo,[(0,l._)("div",Ko,[Ro,(0,l._)("table",Ao,[o.tempOrder.user?((0,l.wg)(),(0,l.iD)("tbody",Go,[(0,l._)("tr",null,[Jo,(0,l._)("td",null,(0,d.zw)(o.tempOrder.user.name),1)]),(0,l._)("tr",null,[Qo,(0,l._)("td",null,(0,d.zw)(o.tempOrder.user.email),1)]),(0,l._)("tr",null,[Xo,(0,l._)("td",null,(0,d.zw)(o.tempOrder.user.tel),1)]),(0,l._)("tr",null,[ti,(0,l._)("td",null,(0,d.zw)(o.tempOrder.user.address),1)])])):(0,l.kq)("",!0)])]),(0,l._)("div",ei,[ai,(0,l._)("table",si,[(0,l._)("tbody",null,[(0,l._)("tr",null,[oi,(0,l._)("td",null,(0,d.zw)(o.tempOrder.id),1)]),(0,l._)("tr",null,[ii,(0,l._)("td",null,(0,d.zw)(t.$filters.date(o.tempOrder.create_at)),1)]),(0,l._)("tr",null,[ni,(0,l._)("td",null,[o.tempOrder.paid_date?((0,l.wg)(),(0,l.iD)("span",li,(0,d.zw)(t.$filters.date(o.tempOrder.paid_date)),1)):((0,l.wg)(),(0,l.iD)("span",ri,"時間不正確"))])]),(0,l._)("tr",null,[di,(0,l._)("td",null,[o.tempOrder.is_paid?((0,l.wg)(),(0,l.iD)("strong",ci,"已付款")):((0,l.wg)(),(0,l.iD)("span",ui,"尚未付款"))])]),(0,l._)("tr",null,[pi,(0,l._)("td",null,(0,d.zw)(t.$filters.currency(o.tempOrder.total)),1)])])]),mi,(0,l._)("table",hi,[_i,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.tempOrder.products,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("th",null,(0,d.zw)(e.product.title),1),(0,l._)("td",null,(0,d.zw)(e.qty)+" / "+(0,d.zw)(e.product.unit),1),(0,l._)("td",gi,(0,d.zw)(t.$filters.currency(e.final_total)),1)])))),128))])])])])]),(0,l._)("div",vi,[bi,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:e[0]||(e[0]=e=>t.$emit("update-order",o.tempOrder))},"確認")])])])],512)}var wi={name:"OrderModal",props:{order:{type:Object,default(){return{}}}},mixins:[Hs],emits:["update-paid"],inject:["emitter"],watch:{order(){this.tempOrder=this.order,this.isPaid=this.tempOrder.is_paid}},data(){return{status:{},modal:"",tempOrder:{},isPaid:!1}}};const yi=(0,ot.Z)(wi,[["render",fi]]);var ki=yi,Ci={name:"Orders-view",data(){return{orders:{},pagination:{},tempOrder:{},isLoading:!1,isNew:!1,currentPage:1}},components:{Pagination:Po,OrderModal:ki,DeleteModal:uo},methods:{getOrders(t=1){this.currentPage=t;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/orders?page=${t}`;this.isLoading=!0,this.$http.get(e).then((t=>{t.data.success&&(this.orders=t.data.orders,this.pagination=t.data.pagination,this.isLoading=!1)}))},openModal(t,e){this.tempOrder={...e},this.isNew=t;const a=this.$refs.orderModal;a.showModal()},deleteOrderModal(t){this.tempOrder={...t};const e=this.$refs.deleteModal;e.showModal()},updatePaid(t){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/order/${t.id}`,a={is_paid:t.is_paid};this.$http.put(e,{data:a}).then((t=>{this.isLoading=!1,this.getOrders(),this.$httpMsgState(t,"更新付款狀態")}))},deleteOrder(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/order/${this.tempOrder.id}`;this.$http.delete(t).then((t=>{const e=this.$refs.deleteModal;e.hideModal(),this.getOrders(this.currentPage)}))}},created(){this.getOrders()}};const Pi=(0,ot.Z)(Ci,[["render",So]]);var xi=Pi;const Di={class:"text-end mt-4"},$i={class:"table mt-4"},Mi=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"名稱"),(0,l._)("th",null,"優惠碼"),(0,l._)("th",null,"折扣百分比"),(0,l._)("th",null,"到期日"),(0,l._)("th",null,"是否啟用"),(0,l._)("th",null,"編輯")])],-1),Ui={key:0,class:"text-success"},Li={key:1,class:"text-muted"},Ii={class:"btn-group"},Oi=["onClick"],Wi=["onClick"];function ji(t,e,a,s,o,i){const n=(0,l.up)("Loading"),r=(0,l.up)("CouponModal"),c=(0,l.up)("DeleteModal"),u=(0,l.up)("Pagination");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(n,{active:o.isLoading},null,8,["active"]),(0,l._)("div",Di,[(0,l._)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=t=>i.openCouponModel(!0))}," 建立新的優惠券 ")]),(0,l._)("table",$i,[Mi,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.coupons,((e,a)=>((0,l.wg)(),(0,l.iD)("tr",{key:a},[(0,l._)("td",null,(0,d.zw)(e.title),1),(0,l._)("td",null,(0,d.zw)(e.code),1),(0,l._)("td",null,(0,d.zw)(e.percent)+"%",1),(0,l._)("td",null,(0,d.zw)(t.$filters.date(e.due_date)),1),(0,l._)("td",null,[1===e.is_enabled?((0,l.wg)(),(0,l.iD)("span",Ui,"啟用")):((0,l.wg)(),(0,l.iD)("span",Li,"未起用"))]),(0,l._)("td",null,[(0,l._)("div",Ii,[(0,l._)("button",{class:"btn btn-outline-primary btn-sm",onClick:t=>i.openCouponModel(!1,e)},"編輯",8,Oi),(0,l._)("button",{class:"btn btn-outline-danger btn-sm",onClick:t=>i.deleteCouponModal(e)},"刪除",8,Wi)])])])))),128))])]),(0,l.Wm)(r,{coupon:o.tempDiscount,ref:"couponModal",onUpdateCoupon:i.updateCoupon},null,8,["coupon","onUpdateCoupon"]),(0,l.Wm)(c,{item:o.tempDiscount,ref:"deleteModal",onDeleteItem:i.deleteCoupon},null,8,["item","onDeleteItem"]),(0,l.Wm)(u,{pages:o.pagination,onEmitPages:i.getCoupons},null,8,["pages","onEmitPages"])])}const zi={class:"modal fade",id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},qi={class:"modal-dialog",role:"document"},Ti={class:"modal-content"},Bi={class:"modal-header"},Ei={class:"modal-title",id:"exampleModalLabel"},Si=(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ni={class:"modal-body"},Vi={class:"mb-3"},Zi=(0,l._)("label",{for:"title"},"標題",-1),Yi={class:"mb-3"},Hi=(0,l._)("label",{for:"coupon_code"},"優惠碼",-1),Fi={class:"mb-3"},Ki=(0,l._)("label",{for:"due_date"},"到期日",-1),Ri={class:"mb-3"},Ai=(0,l._)("label",{for:"price"},"折扣百分比",-1),Gi={class:"mb-3"},Ji={class:"form-check"},Qi=(0,l._)("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ",-1),Xi={class:"modal-footer"},tn=(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function en(t,e,a,o,i,n){return(0,l.wg)(),(0,l.iD)("div",zi,[(0,l._)("div",qi,[(0,l._)("div",Ti,[(0,l._)("div",Bi,[(0,l._)("h5",Ei,(0,d.zw)(i.tempCoupon.title?"編輯優惠券":"新增優惠券"),1),Si]),(0,l._)("div",Ni,[(0,l._)("div",Vi,[Zi,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":e[0]||(e[0]=t=>i.tempCoupon.title=t),placeholder:"請輸入標題"},null,512),[[s.nr,i.tempCoupon.title]])]),(0,l._)("div",Yi,[Hi,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"coupon_code","onUpdate:modelValue":e[1]||(e[1]=t=>i.tempCoupon.code=t),placeholder:"請輸入優惠碼"},null,512),[[s.nr,i.tempCoupon.code]])]),(0,l._)("div",Fi,[Ki,(0,l.wy)((0,l._)("input",{type:"date",class:"form-control",id:"due_date","onUpdate:modelValue":e[2]||(e[2]=t=>i.due_date=t)},null,512),[[s.nr,i.due_date]])]),(0,l._)("div",Ri,[Ai,(0,l.wy)((0,l._)("input",{type:"number",class:"form-control",id:"price","onUpdate:modelValue":e[3]||(e[3]=t=>i.tempCoupon.percent=t),placeholder:"請輸入折扣百分比"},null,512),[[s.nr,i.tempCoupon.percent,void 0,{number:!0}]])]),(0,l._)("div",Gi,[(0,l._)("div",Ji,[(0,l.wy)((0,l._)("input",{class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":e[4]||(e[4]=t=>i.tempCoupon.is_enabled=t),id:"is_enabled"},null,512),[[s.e8,i.tempCoupon.is_enabled]]),Qi])])]),(0,l._)("div",Xi,[tn,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=e=>t.$emit("update-coupon",i.tempCoupon))},"更新優惠券 ")])])])],512)}var an={name:"CouponModal",props:{coupon:{}},data(){return{tempCoupon:{},due_date:""}},emits:["update-coupon"],watch:{coupon(){this.tempCoupon=this.coupon},due_date(){this.tempCoupon.due_date=Math.floor(new Date(this.due_date)/1e3)}},mixins:[Hs]};const sn=(0,ot.Z)(an,[["render",en]]);var on=sn,nn={name:"Discount-view",data(){return{coupons:{},tempDiscount:{title:"",is_enabled:0,percent:100,code:""},isNew:!1,isLoading:!1,pagination:{}}},components:{CouponModal:on,DeleteModal:uo,Pagination:Po},methods:{openCouponModel(t,e){this.isNew=t,this.isNew?this.tempDiscount={due_date:(new Date).getTime()/1e3}:this.tempDiscount={...e},this.$refs.couponModal.showModal(),this.isLoading=!1},getCoupons(t=1){this.isLoading=!0;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupons?page=${t}`;this.$http.get(e,this.tempDiscount).then((t=>{this.coupons=t.data.coupons,this.pagination=t.data.pagination,this.isLoading=!1}))},updateCoupon(t){if(this.isNew){const e="https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupon";this.$http.post(e,{data:t}).then((t=>{this.$httpMsgState(t,"新增優惠券"),this.getCoupons(),this.$refs.couponModal.hideModal()}))}else{const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupon/${this.tempDiscount.id}`;this.$http.put(e,{data:t}).then((t=>{this.$httpMsgState(t,"更新優惠券"),this.getCoupons(),this.$refs.couponModal.hideModal()}))}},deleteCouponModal(t){this.tempDiscount={...t};const e=this.$refs.deleteModal;e.showModal()},deleteCoupon(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/admin/coupon/${this.tempDiscount.id}`;this.isLoading=!0,this.$http.delete(t).then((t=>{this.$httpMsgState(t,"刪除優惠券");const e=this.$refs.deleteModal;e.hideModal(),this.getCoupons()}))}},created(){this.getCoupons()}};const ln=(0,ot.Z)(nn,[["render",ji]]);var rn=ln;const dn={class:"position-relative"};function cn(t,e,a,s,o,i){const n=(0,l.up)("ToastMessages"),r=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",dn,[(0,l.Wm)(n)]),(0,l.Wm)(r)],64)}var un={name:"ProductBoard",components:{ToastMessages:Ba},provide(){return{emitter:at}},created(){}};const pn=(0,ot.Z)(un,[["render",cn]]);var mn=pn;const hn=t=>((0,l.dD)("data-v-665a4c96"),t=t(),(0,l.Cn)(),t),_n={class:"wrap"},gn=hn((()=>(0,l._)("div",{class:"banner"},[(0,l._)("div",{class:"banner__text"},[(0,l._)("h2",null,[(0,l.Uk)("讓居家的時光"),(0,l._)("br"),(0,l.Uk)("從休憩昇華成享受")])])],-1))),vn={class:"container"},bn={class:"showProduct"},fn={class:"showProduct__card--img"},wn=["onClick"],yn=["src"],kn={class:"showProduct__info"},Cn={class:"infoBox"},Pn={class:"showProduct__info--content"},xn={class:"showProduct__info--title"},Dn={class:"showProduct__info--price priceBox"},$n=hn((()=>(0,l._)("h6",null,"價格",-1))),Mn={class:"showProduct__footer"},Un=["onClick"],Ln=(0,l.Uk)(" 查看更多 "),In=["onClick"],On={key:1,class:"bi bi-cart2"},Wn=(0,l.Uk)(" 加到購物車 ");function jn(t,e,a,o,i,n){const r=(0,l.up)("font-awesome-icon");return(0,l.wg)(),(0,l.iD)("div",_n,[gn,(0,l._)("div",vn,[(0,l._)("div",bn,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.products,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id,class:"showProduct__card"},[(0,l._)("div",fn,[(0,l._)("a",{href:"#",onClick:(0,s.iM)((e=>n.viewMore(t.id)),["prevent"])},[(0,l._)("img",{src:t.imageUrl,alt:""},null,8,yn)],8,wn)]),(0,l._)("div",kn,[(0,l._)("div",Cn,[(0,l._)("p",Pn,(0,d.zw)(t.category),1),(0,l._)("p",xn,(0,d.zw)(t.title),1)]),(0,l._)("div",Dn,[$n,(0,l._)("p",null,"NT: "+(0,d.zw)(t.origin_price)+" 元",1)])]),(0,l._)("div",Mn,[(0,l._)("button",{type:"button",class:"viewMore btn btn-outline-secondary",onClick:e=>n.viewMore(t.id)},[(0,l.Wm)(r,{icon:["fas","search"]}),Ln],8,Un),(0,l._)("button",{type:"button",class:"addCart btn btn-outline-secondary",onClick:e=>n.addToCart(t.id)},[this.status.loadingItem===t.id?((0,l.wg)(),(0,l.j4)(r,{key:0,class:"spinner-color",icon:["fas","spinner"]})):((0,l.wg)(),(0,l.iD)("i",On)),Wn],8,In)])])))),128))])])])}var zn={name:"ProductItem",data(){return{products:[],status:{loadingItem:""},cart:{}}},inject:["emitter"],methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,this.isLoading=!1}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.isLoading=!0,this.$http.get(t).then((t=>{this.cart=t.data.data,this.isLoading=!1}))},viewMore(t){this.$router.push(`/products/product/${t}`)},addToCart(t){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.status.loadingItem=t;const a={product_id:t,qty:1};this.$http.post(e,{data:a}).then((t=>{this.$httpMsgState(t,"加入購物車"),this.isLoading=!1,this.status.loadingItem="",at.emit("updateCart",this.cart)}))}},created(){this.getProducts(),this.getCart()}};const qn=(0,ot.Z)(zn,[["render",jn],["__scopeId","data-v-665a4c96"]]);var Tn=qn;const Bn=t=>((0,l.dD)("data-v-6c686f2e"),t=t(),(0,l.Cn)(),t),En={class:"wrap"},Sn={class:"container"},Nn={class:"productItem"},Vn={class:"product-img"},Zn=["src"],Yn={class:"product__info"},Hn={class:"product__info--category"},Fn={class:"product__info--title"},Kn={class:"product__info--originPrice"},Rn={key:0,class:"product__info--btnPlace"},An={class:"product__info--description"},Gn=Bn((()=>(0,l._)("h2",null,"商品介紹:",-1))),Jn={class:"product__info--content"},Qn=Bn((()=>(0,l._)("h2",null,"主要成分:",-1)));function Xn(t,e,a,s,o,i){const n=(0,l.up)("Loading");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(n,{active:o.isLoading},null,8,["active"]),(0,l._)("div",En,[(0,l._)("div",Sn,[(0,l._)("div",Nn,[(0,l._)("div",Vn,[(0,l._)("img",{src:o.product.imageUrl,alt:""},null,8,Zn)]),(0,l._)("div",Yn,[(0,l._)("div",Hn,[(0,l._)("h2",null,(0,d.zw)(o.product.category),1)]),(0,l._)("div",Fn,[(0,l._)("p",null,(0,d.zw)(o.product.title),1)]),(0,l._)("div",Kn,[(0,l._)("h4",null,"NT$ "+(0,d.zw)(o.product.origin_price)+" 元",1)]),o.product.price?((0,l.wg)(),(0,l.iD)("div",Rn,[(0,l._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[0]||(e[0]=(...t)=>i.returnProducts&&i.returnProducts(...t))}," 返回商品頁 "),(0,l._)("button",{type:"button",class:"btn btn-outline-danger",onClick:e[1]||(e[1]=t=>i.addToCart(o.product.id))}," 加到購物車 ")])):(0,l.kq)("",!0),(0,l._)("div",An,[Gn,(0,l._)("h3",null,(0,d.zw)(o.product.description),1)]),(0,l._)("div",Jn,[Qn,(0,l._)("h3",null,(0,d.zw)(o.product.content),1)])])])])])],64)}var tl={name:"ProductItem",data(){return{product:{},id:"",isLoading:!1,status:{loadingItem:""},cart:{}}},provide(){return{emitter:at}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.product=t.data.product,this.isLoading=!1)})).catch((t=>{console.log(t)}))},returnProducts(){this.$router.push("/products/productsIndex")},addToCart(t,e=1){const a="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.isLoading=!0;const s={product_id:t,qty:e};this.$http.post(a,{data:s}).then((t=>{this.$httpMsgState(t,"加入購物車"),this.isLoading=!1,this.status.loadingItem="",at.emit("updateCart",this.cart)}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.isLoading=!0,this.$http.get(t).then((t=>{this.cart=t.data.data,this.isLoading=!1}))}},created(){this.id=this.$route.params.productId,this.getProduct(),this.getCart()}};const el=(0,ot.Z)(tl,[["render",Xn],["__scopeId","data-v-6c686f2e"]]);var al=el;function sl(t,e,a,s,o,i){const n=(0,l.up)("ToastMessages"),r=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(n),(0,l.Wm)(r)],64)}var ol={name:"UserCart",data(){return{products:[],isLoading:!1}},components:{ToastMessages:Ba},provide(){return{emitter:at}},created(){}};const il=(0,ot.Z)(ol,[["render",sl]]);var nl=il;const ll=t=>((0,l.dD)("data-v-b07d42c4"),t=t(),(0,l.Cn)(),t),rl={class:"wrap"},dl={class:"container"},cl=ll((()=>(0,l._)("h2",null,"購物車",-1))),ul={class:"stepper"},pl=ll((()=>(0,l._)("li",null,[(0,l.Uk)("Step 1 "),(0,l._)("br"),(0,l.Uk)("確認購物車")],-1))),ml={class:"arrowIconRight"},hl={class:"arrowIconDown"},_l=ll((()=>(0,l._)("li",null,[(0,l.Uk)("Step 2 "),(0,l._)("br"),(0,l.Uk)("填寫資料")],-1))),gl={class:"arrowIconRight"},vl={class:"arrowIconDown"},bl=ll((()=>(0,l._)("li",null,[(0,l.Uk)("Step 3 "),(0,l._)("br"),(0,l.Uk)("完成訂單")],-1))),fl={class:"cartBody"},wl={class:"product-img"},yl=["src"],kl={class:"product-title"},Cl={class:"product-qty"},Pl=["onClick"],xl=["onUpdate:modelValue","onChange"],Dl=["onClick"],$l={class:"mobile-style"},Ml={class:"product-price"},Ul={key:0,class:"text-success"},Ll=["disabled","onClick"],Il={class:"input-group mb-3 input-group-sm"},Ol={class:"input-group-append"},Wl={class:"total-price"},jl={key:0,class:"discount"},zl={class:"linkBtn"},ql=(0,l.Uk)("繼續購物"),Tl=(0,l.Uk)("送出訂單");function Bl(t,e,a,o,i,n){const r=(0,l.up)("Loading"),c=(0,l.up)("font-awesome-icon"),u=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{active:i.isLoading},null,8,["active"]),(0,l._)("div",rl,[(0,l._)("div",dl,[cl,(0,l._)("div",ul,[(0,l._)("ul",null,[pl,(0,l._)("div",ml,[(0,l.Wm)(c,{icon:["fas","arrow-right"]})]),(0,l._)("div",hl,[(0,l.Wm)(c,{icon:["fas","arrow-down"]})]),_l,(0,l._)("div",gl,[(0,l.Wm)(c,{icon:["fas","arrow-right"]})]),(0,l._)("div",vl,[(0,l.Wm)(c,{icon:["fas","arrow-down"]})]),bl])]),(0,l._)("div",fl,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.cart.carts,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"product-table",key:e.id},[(0,l._)("div",wl,[(0,l._)("img",{src:e.product.imageUrl,alt:""},null,8,yl)]),(0,l._)("div",kl,[(0,l._)("h3",null,(0,d.zw)(e.product.title),1)]),(0,l._)("div",Cl,[(0,l._)("button",{class:"btn",onClick:t=>n.minus(e)},[(0,l.Wm)(c,{icon:["fas","minus"]})],8,Pl),(0,l.wy)((0,l._)("input",{type:"number",min:"1","onUpdate:modelValue":t=>e.qty=t,onChange:t=>n.updateCartItem(e)},null,40,xl),[[s.nr,e.qty]]),(0,l._)("button",{class:"btn",onClick:t=>n.plus(e)},[(0,l.Wm)(c,{icon:["fas","plus"]})],8,Dl)]),(0,l._)("div",$l,[(0,l._)("div",Ml,[(0,l._)("h4",null,"$"+(0,d.zw)(e.product.price)+"元 / 件",1),e.coupon?((0,l.wg)(),(0,l.iD)("small",Ul,"折扣價：")):(0,l.kq)("",!0),(0,l.Uk)(" 小計: $"+(0,d.zw)(t.$filters.currency(e.final_total))+"元 ",1)]),(0,l._)("button",{type:"button",class:"cart-del",disabled:this.status.loadingItem===e.id,onClick:t=>n.removeCartItem(e.id)},[this.status.loadingItem===e.id?((0,l.wg)(),(0,l.j4)(c,{key:0,icon:["fas","spinner"]})):((0,l.wg)(),(0,l.j4)(c,{key:1,icon:["fas","trash-can"]}))],8,Ll)])])))),128)),(0,l._)("div",Il,[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>i.coupon_code=t),placeholder:"請輸入優惠碼"},null,512),[[s.nr,i.coupon_code]]),(0,l._)("div",Ol,[(0,l._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=(...t)=>n.addCouponCode&&n.addCouponCode(...t))}," 套用優惠碼 ")])]),(0,l._)("div",Wl,[i.cart.final_total!==i.cart.total?((0,l.wg)(),(0,l.iD)("div",jl,[(0,l._)("h4",null,"總計: $"+(0,d.zw)(t.$filters.currency(i.cart.total))+"元",1),(0,l._)("strong",null," 折扣後: $"+(0,d.zw)(t.$filters.currency(i.cart.final.total))+"元 ",1)])):(0,l.kq)("",!0),(0,l._)("h4",null,"總計: $"+(0,d.zw)(t.$filters.currency(i.cart.total))+"元",1)])]),(0,l._)("div",zl,[(0,l.Wm)(u,{class:"btn btn-outline-secondary linkBtn__returnProduct",to:"/products/productsIndex"},{default:(0,l.w5)((()=>[ql])),_:1}),(0,l.Wm)(u,{class:"btn btn-danger linkBtn__goCheck",to:"/cart/userCheck"},{default:(0,l.w5)((()=>[Tl])),_:1})])])])],64)}var El={name:"CartPage",data(){return{isLoading:!1,cart:{},status:{loadingItem:""},coupon_code:""}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.isLoading=!0,this.$http.get(t).then((t=>{0!==t.data.data.carts.length?(console.log("getCart:",t.data.data),this.cart=t.data.data,this.isLoading=!1):this.$router.push("/products/productsIndex")}))},removeCartItem(t){this.status.loadingItem=t;const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/cart/${t}`;this.isLoading=!0,this.$http.delete(e).then((t=>{this.$httpMsgState(t,"產品移除"),this.isLoading=!1,this.status.loadingItem="",this.getCart()}))},minus(t){t.qty-=1,this.updateCartItem(t)},plus(t){t.qty+=1,this.updateCartItem(t)},updateCartItem(t){const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/cart/${t.id}`;this.isLoading=!0,this.status.loadingItem=t.id;const a={product_id:t.product_id,qty:t.qty};this.$http.put(e,{data:a}).then((t=>{this.status.loadingItem="",this.getCart()}))},addCouponCode(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/coupon",e={code:this.coupon_code};this.isLoading=!0,this.$http.post(t,{data:e}).then((t=>{this.$httpMsgState(t,"加入優惠券"),this.getCart(),this.isLoading=!1}))}},created(){this.getCart()}};const Sl=(0,ot.Z)(El,[["render",Bl],["__scopeId","data-v-b07d42c4"]]);var Nl=Sl;const Vl=t=>((0,l.dD)("data-v-b793051a"),t=t(),(0,l.Cn)(),t),Zl={class:"wrap"},Yl={class:"container"},Hl=Vl((()=>(0,l._)("h2",null,"資料確認",-1))),Fl={class:"stepper"},Kl=Vl((()=>(0,l._)("li",null,[(0,l.Uk)("Step 1 "),(0,l._)("br"),(0,l.Uk)("確認購物車")],-1))),Rl={class:"arrowIconRight"},Al={class:"arrowIconDown"},Gl=Vl((()=>(0,l._)("li",null,[(0,l.Uk)("Step 2 "),(0,l._)("br"),(0,l.Uk)("填寫資料")],-1))),Jl={class:"arrowIconRight"},Ql={class:"arrowIconDown"},Xl=Vl((()=>(0,l._)("li",null,[(0,l.Uk)("Step 3 "),(0,l._)("br"),(0,l.Uk)("完成訂單")],-1))),tr={class:"mt-5 row justify-content-center"},er={class:"mb-3 w-100"},ar=Vl((()=>(0,l._)("label",{for:"email",class:"form-label text-control"},"Email:",-1))),sr={class:"mb-3"},or=Vl((()=>(0,l._)("label",{for:"name",class:"form-label text-control"},"收件人姓名:",-1))),ir={class:"mb-3"},nr=Vl((()=>(0,l._)("label",{for:"tel",class:"form-label text-control"},"收件人電話:",-1))),lr={class:"mb-3"},rr=Vl((()=>(0,l._)("label",{for:"address",class:"form-label text-control"},"收件人地址:",-1))),dr={class:"mb-3"},cr=Vl((()=>(0,l._)("label",{for:"message",class:"form-label text-control"},"留言",-1))),ur={class:"linkBtn"},pr=(0,l.Uk)("返回購物車"),mr=Vl((()=>(0,l._)("button",{class:"btn btn-danger linkBtn__goCheck"},"送出訂單",-1)));function hr(t,e,a,o,i,n){const r=(0,l.up)("Loading"),c=(0,l.up)("font-awesome-icon"),u=(0,l.up)("Field"),p=(0,l.up)("ErrorMessage"),m=(0,l.up)("router-link"),h=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{active:i.isLoading},null,8,["active"]),(0,l._)("div",Zl,[(0,l._)("div",Yl,[Hl,(0,l._)("div",Fl,[(0,l._)("ul",null,[Kl,(0,l._)("div",Rl,[(0,l.Wm)(c,{icon:["fas","arrow-right"]})]),(0,l._)("div",Al,[(0,l.Wm)(c,{icon:["fas","arrow-down"]})]),Gl,(0,l._)("div",Jl,[(0,l.Wm)(c,{icon:["fas","arrow-right"]})]),(0,l._)("div",Ql,[(0,l.Wm)(c,{icon:["fas","arrow-down"]})]),Xl])]),(0,l._)("div",tr,[(0,l.Wm)(h,{class:"col-md-6",onSubmit:n.createOrder},{default:(0,l.w5)((({errors:t})=>[(0,l._)("div",er,[ar,(0,l.Wm)(u,{id:"email",name:"email",type:"email",placeholder:"請輸入 Email",class:(0,d.C_)(["form-control",{"is-invalid":t["email"]}]),rules:"email|required",modelValue:i.form.user.email,"onUpdate:modelValue":e[0]||(e[0]=t=>i.form.user.email=t)},null,8,["class","modelValue"]),(0,l.Wm)(p,{name:"",class:"invalid-feedback"})]),(0,l._)("div",sr,[or,(0,l.Wm)(u,{id:"name",name:"姓名",type:"text",placeholder:"請輸入 姓名",class:(0,d.C_)(["form-control",{"is-invalid":t["姓名"]}]),rules:"required",modelValue:i.form.user.name,"onUpdate:modelValue":e[1]||(e[1]=t=>i.form.user.name=t)},null,8,["class","modelValue"]),(0,l.Wm)(p,{name:"姓名",class:"invalid-feedback"})]),(0,l._)("div",ir,[nr,(0,l.Wm)(u,{id:"tel",name:"電話",type:"tel",placeholder:"請輸入 電話",class:(0,d.C_)(["form-control",{"is-invalid":t["電話"]}]),rules:"required",modelValue:i.form.user.tel,"onUpdate:modelValue":e[2]||(e[2]=t=>i.form.user.tel=t)},null,8,["class","modelValue"]),(0,l.Wm)(p,{name:"電話",class:"invalid-feedback"})]),(0,l._)("div",lr,[rr,(0,l.Wm)(u,{id:"address",name:"地址",type:"text",placeholder:"請輸入 地址",class:(0,d.C_)(["form-control",{"is-invalid":t["地址"]}]),rules:"required",modelValue:i.form.user.address,"onUpdate:modelValue":e[3]||(e[3]=t=>i.form.user.address=t)},null,8,["class","modelValue"]),(0,l.Wm)(p,{name:"地址",class:"invalid-feedback"})]),(0,l._)("div",dr,[cr,(0,l.wy)((0,l._)("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[4]||(e[4]=t=>i.form.message=t)},null,512),[[s.nr,i.form.message]])]),(0,l._)("div",ur,[(0,l.Wm)(m,{class:"btn btn-outline-secondary linkBtn__returnProduct",to:"/cart/cartPage"},{default:(0,l.w5)((()=>[pr])),_:1}),mr])])),_:1},8,["onSubmit"])])])])],64)}var _r={name:"UserCheck",data(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},isLoading:!1}},methods:{createOrder(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/order";this.isLoading=!1;const e=this.form;this.$http.post(t,{data:e}).then((t=>{this.isLoading=!1;const e=t.data.orderId;this.$router.push(`./order/${e}`)}))}}};const gr=(0,ot.Z)(_r,[["render",hr],["__scopeId","data-v-b793051a"]]);var vr=gr;const br=t=>((0,l.dD)("data-v-27dc7bfc"),t=t(),(0,l.Cn)(),t),fr={class:"wrap"},wr={class:"container"},yr=br((()=>(0,l._)("h2",null,"訂單資訊",-1))),kr={class:"stepper"},Cr=br((()=>(0,l._)("li",null,[(0,l.Uk)("Step 1 "),(0,l._)("br"),(0,l.Uk)("確認購物車")],-1))),Pr={class:"arrowIconRight"},xr={class:"arrowIconDown"},Dr=br((()=>(0,l._)("li",null,[(0,l.Uk)("Step 2 "),(0,l._)("br"),(0,l.Uk)("填寫資料")],-1))),$r={class:"arrowIconRight"},Mr={class:"arrowIconDown"},Ur=br((()=>(0,l._)("li",null,[(0,l.Uk)("Step 3 "),(0,l._)("br"),(0,l.Uk)("完成訂單")],-1))),Lr={class:"row justify-content-center form-place"},Ir={class:"table align-middle"},Or=br((()=>(0,l._)("thead",null,[(0,l._)("th",null,"品名"),(0,l._)("th",null,"數量"),(0,l._)("th",null,"單價")],-1))),Wr={class:"text-end"},jr=br((()=>(0,l._)("td",{colspan:"2",class:"text-end"},"總計",-1))),zr={class:"text-end"},qr={class:"table"},Tr=br((()=>(0,l._)("th",{width:"100"},"Email",-1))),Br=br((()=>(0,l._)("th",null,"姓名",-1))),Er=br((()=>(0,l._)("th",null,"收件人電話",-1))),Sr=br((()=>(0,l._)("th",null,"收件人地址",-1))),Nr=br((()=>(0,l._)("th",null,"付款狀態",-1))),Vr={key:0},Zr={key:1,class:"text-success"},Yr={key:0,class:"text-end"},Hr=br((()=>(0,l._)("button",{class:"btn btn-danger"},"確認付款去",-1))),Fr=[Hr];function Kr(t,e,a,o,i,n){const r=(0,l.up)("Loading"),c=(0,l.up)("font-awesome-icon");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{active:i.isLoading},null,8,["active"]),(0,l._)("div",fr,[(0,l._)("div",wr,[yr,(0,l._)("div",kr,[(0,l._)("ul",null,[Cr,(0,l._)("div",Pr,[(0,l.Wm)(c,{icon:["fas","arrow-right"]})]),(0,l._)("div",xr,[(0,l.Wm)(c,{icon:["fas","arrow-down"]})]),Dr,(0,l._)("div",$r,[(0,l.Wm)(c,{icon:["fas","arrow-right"]})]),(0,l._)("div",Mr,[(0,l.Wm)(c,{icon:["fas","arrow-down"]})]),Ur])]),(0,l._)("div",Lr,[(0,l._)("form",{class:"col-md-6",onSubmit:e[0]||(e[0]=(0,s.iM)(((...t)=>n.payOrder&&n.payOrder(...t)),["prevent"]))},[(0,l._)("table",Ir,[Or,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.order.products,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",null,(0,d.zw)(t.product.title),1),(0,l._)("td",null,(0,d.zw)(t.qty)+" / 個",1),(0,l._)("td",Wr,(0,d.zw)(t.final_total),1)])))),128))]),(0,l._)("tfoot",null,[(0,l._)("tr",null,[jr,(0,l._)("td",zr,(0,d.zw)(i.order.total),1)])])]),(0,l._)("table",qr,[(0,l._)("tbody",null,[(0,l._)("tr",null,[Tr,(0,l._)("td",null,(0,d.zw)(i.order.user.email),1)]),(0,l._)("tr",null,[Br,(0,l._)("td",null,(0,d.zw)(i.order.user.name),1)]),(0,l._)("tr",null,[Er,(0,l._)("td",null,(0,d.zw)(i.order.user.tel),1)]),(0,l._)("tr",null,[Sr,(0,l._)("td",null,(0,d.zw)(i.order.user.address),1)]),(0,l._)("tr",null,[Nr,(0,l._)("td",null,[i.order.is_paid?((0,l.wg)(),(0,l.iD)("span",Zr,"付款完成")):((0,l.wg)(),(0,l.iD)("span",Vr,"尚未付款"))])])])]),!1===i.order.is_paid?((0,l.wg)(),(0,l.iD)("div",Yr,Fr)):(0,l.kq)("",!0)],32)])])])],64)}var Rr={name:"FinalOrder",data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/order/${this.orderId}`;this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order)}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/justinyu61-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{console.log("pay",t),t.data.success&&(this.getOrder(),this.isLoading=!1)}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}};const Ar=(0,ot.Z)(Rr,[["render",Kr],["__scopeId","data-v-27dc7bfc"]]);var Gr=Ar;const Jr=t=>((0,l.dD)("data-v-4248d0a6"),t=t(),(0,l.Cn)(),t),Qr={class:"wrap"},Xr=Jr((()=>(0,l._)("div",{class:"banner"},[(0,l._)("div",{class:"banner__text"},[(0,l._)("h2",null,[(0,l.Uk)("讓居家的時光"),(0,l._)("br"),(0,l.Uk)("從休憩昇華成享受")])])],-1))),td={class:"container"},ed={class:"showProduct"},ad={class:"showProduct__card--img"},sd=["onClick"],od=["src"],id={class:"showProduct__info"},nd={class:"infoBox"},ld={class:"showProduct__info--content"},rd={class:"showProduct__info--title"},dd={class:"showProduct__info--price priceBox"},cd=Jr((()=>(0,l._)("h6",null,"價格",-1))),ud={class:"showProduct__footer"},pd={class:"showProduct__footer--btn"},md=["onClick"],hd=(0,l.Uk)(" 查看更多 "),_d=["onClick"],gd={key:1,class:"bi bi-cart2"},vd=(0,l.Uk)(" 加到購物車 ");function bd(t,e,a,o,i,n){const r=(0,l.up)("font-awesome-icon");return(0,l.wg)(),(0,l.iD)("div",Qr,[Xr,(0,l._)("div",td,[(0,l._)("div",ed,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.filterProducts,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t.id,class:"showProduct__card"},[(0,l._)("div",ad,[(0,l._)("a",{href:"#",onClick:(0,s.iM)((e=>n.viewMore(t.id)),["prevent"])},[(0,l._)("img",{src:t.imageUrl,alt:""},null,8,od)],8,sd)]),(0,l._)("div",id,[(0,l._)("div",nd,[(0,l._)("p",ld,(0,d.zw)(t.category),1),(0,l._)("p",rd,(0,d.zw)(t.title),1)]),(0,l._)("div",dd,[cd,(0,l._)("p",null,"NT: "+(0,d.zw)(t.origin_price)+" 元",1)])]),(0,l._)("div",ud,[(0,l._)("div",pd,[(0,l._)("button",{type:"button",class:"viewMore btn btn-outline-secondary",onClick:e=>n.viewMore(t.id)},[(0,l.Wm)(r,{icon:["fas","search"]}),hd],8,md),(0,l._)("button",{type:"button",class:"add-cart btn btn-outline-secondary",onClick:e=>n.addToCart(t.id)},[this.status.loadingItem===t.id?((0,l.wg)(),(0,l.j4)(r,{key:0,class:"spinner-color",icon:["fas","spinner"]})):((0,l.wg)(),(0,l.iD)("i",gd)),vd],8,_d)])])])))),128))])])])}var fd={name:"BrandsView",data(){return{allProducts:[],products:[],brand:{},productCategory:"",filterProducts:[],status:{loadingItem:""},cart:{}}},inject:["$httpMessageState","emitter"],watch:{productCategory(){this.filterBrands()}},methods:{getProducts(t=1){const e=`https://vue3-course-api.hexschool.io/api/justinyu61-api/products?page=${t}`;this.isLoading=!0,this.$http.get(e).then((t=>{t.data.success&&(this.products=t.data.products,this.filterProducts=this.products,this.productCategory=this.$route.query.productCategory,console.log(this.productCategory),this.isLoading=!1)}))},filterBrands(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.allProducts=t.data.products,""!==this.productCategory?(this.filterProducts=this.allProducts.filter((t=>t.category===this.productCategory)),console.log(this.filterProducts)):this.filterProducts=this.products,this.isLoading=!1}))},viewMore(t){this.$router.push(`/products/product/${t}`)},addToCart(t,e=1){const a="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.isLoading=!0;const s={product_id:t,qty:e};this.$http.post(a,{data:s}).then((t=>{this.$httpMsgState(t,"加入購物車"),this.isLoading=!1,this.status.loadingItem="",at.emit("updateCart",this.cart)}))},getCart(){const t="https://vue3-course-api.hexschool.io/api/justinyu61-api/cart";this.isLoading=!0,this.$http.get(t).then((t=>{this.cart=t.data.data,this.isLoading=!1}))}},created(){this.getProducts(),this.filterBrands(),this.getCart()}};const wd=(0,ot.Z)(fd,[["render",bd],["__scopeId","data-v-4248d0a6"]]);var yd=wd;const kd=[{path:"/JustCandle",name:"home",component:Le},{path:"/trivia",name:"Trivia",component:Ve},{path:"/login",name:"Login",component:da},{path:"/dashboard",component:Na,children:[{path:"products",component:$o},{path:"orders",component:xi},{path:"discount",component:rn}]},{path:"/products",component:mn,children:[{path:"productsIndex",component:Tn},{path:"product/:productId",component:al},{path:"/brands",component:yd}]},{path:"/cart",component:nl,children:[{path:"cartPage",component:Nl},{path:"userCheck",component:vr},{path:"order/:orderId",component:Gr}]}],Cd=(0,bt.p7)({history:(0,bt.r5)(),routes:kd,linkActiveClass:"active"});var Pd=Cd,xd=a(6216);function Dd(t){const e=parseInt(t,10);return`${e.toFixed(0).replace(/./g,((t,e,a)=>e&&"."!==t&&(a.length-e)%3===0?`, ${t}`.replace(/\s/g,""):t))}`}function $d(t){const e=new Date(1e3*t);return e.toLocaleDateString()}function Md(t,e="更新"){if(t.data.success)at.emit("push-message",{style:"success",title:`${e}成功`});else{const a="string"===typeof t.data.message?[t.data.message]:t.data.message;at.emit("push-message",{style:"danger",title:`${e}失敗`,content:a.join("、")})}}var Ud=a(8125),Ld=a(8321),Id=a(2274),Od=a(2234),Wd=a(7749),jd=a(7387),zd=a.n(jd),qd=(a(8937),a(5708)),Td=a(3990),Bd=a(579),Ed=a(2389);Ud.vI.add(Ld.mRB,Id.NCV,Od.vnX),Object.keys(Td.ZP).forEach((t=>{(0,qd.aH)(t,Td.ZP[t])})),(0,qd.jQ)({generateMessage:(0,Bd.NC)({zhTW:Ed}),validateOnInput:!0}),(0,Bd.i_)("zh_TW");const Sd=(0,s.ri)(vt);Sd.config.globalProperties.$filters={currency:Dd,date:$d},Sd.config.globalProperties.$httpMsgState=Md,Sd.component("Loading",xd.Z),Sd.component("font-awesome-icon",Wd.GN),Sd.component("Form",qd.l0),Sd.component("Field",qd.gN),Sd.component("ErrorMessage",qd.Bc),Sd.config.globalProperties.$=zd(),Sd.use(n.Z,i()),Sd.use(Pd),Sd.mount("#app")}},e={};function a(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,s,o,i){if(!s){var n=1/0;for(c=0;c<t.length;c++){s=t[c][0],o=t[c][1],i=t[c][2];for(var l=!0,r=0;r<s.length;r++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[r])}))?s.splice(r--,1):(l=!1,i<n&&(n=i));if(l){t.splice(c--,1);var d=o();void 0!==d&&(e=d)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[s,o,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/JustinProject/dist/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,i,n=s[0],l=s[1],r=s[2],d=0;if(n.some((function(e){return 0!==t[e]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(r)var c=r(a)}for(e&&e(s);d<n.length;d++)i=n[d],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},s=self["webpackChunkjustin_project"]=self["webpackChunkjustin_project"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(1988)}));s=a.O(s)})();
//# sourceMappingURL=app.5b1dd53a.js.map